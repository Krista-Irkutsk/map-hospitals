(this.webpackJsonpclients=this.webpackJsonpclients||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a(1),c=a.n(l),r=a(28),s=a.n(r),i=(a(46),a(19)),o=a(9);function d(){}var u=Object(l.createContext)({token:null,userId:null,login:d,logout:d,isAuthenticated:!1}),b=function(){var e=Object(o.g)(),t=Object(l.useContext)(u);return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Admin Page"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)(i.b,{to:"/",children:"\u041a\u0430\u0440\u0442\u0430"})}),Object(n.jsx)("li",{children:Object(n.jsx)("button",{onClick:function(a){a.preventDefault(),t.logout(),e.push("/")},children:"\u0412\u044b\u0439\u0442\u0438"})})]})]})},j=a(6),p=a.n(j),h=a(3),O=a(8),m=a(7),_=(a(32),a(52),function(e){return Object(n.jsx)("div",{className:"search-view",onClick:function(t){e.searchViewClick(t,e.id)},children:Object(n.jsxs)("div",{className:"search-view__info",children:[Object(n.jsx)("div",{className:"search-view__title",children:Object(n.jsx)("a",{className:"search-view__link",href:"#",children:e.name})}),Object(n.jsx)("div",{className:"search-view__address",children:e.addres||"\u0410\u0434\u0440\u0435\u0441 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"}),Object(n.jsx)("div",{className:"search-view__schedule",children:e.schedule||"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})]})})}),f=function(e){var t="";return t=e.name_obl?t+e.name_obl:t,t=e.name_rayon?t+", "+e.name_rayon:t,t=e.name_nas_punkt?t+", "+e.name_nas_punkt:t,t=e.Street?t+", "+e.Street:t,0===(t=e.Number_of_house?t+", "+e.Number_of_house:t).trim().length&&(t=null),t},v=function(e){return Object(n.jsx)("div",{className:"list-view",children:e.loading?"loading 1":e.list&&e.list.length>0?e.list.map((function(t,a){return Object(n.jsx)(_,{name:t.name_Med_punkt,addres:f(t),id:t.id_Med_punkt,searchViewClick:e.searchViewClick},a)})):Object(n.jsx)("div",{className:"list-view--empty",children:"\u0422\u0430\u043a\u0438\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})};a(53);var x=Object(l.createContext)({mapState:null,setMapState:function(){}});a(54);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var N=l.createElement("g",null,l.createElement("g",null,l.createElement("path",{d:"M484.14,226.886L306.46,49.202c-5.072-5.072-11.832-7.856-19.04-7.856c-7.216,0-13.972,2.788-19.044,7.856l-16.132,16.136 c-5.068,5.064-7.86,11.828-7.86,19.04c0,7.208,2.792,14.2,7.86,19.264L355.9,207.526H26.58C11.732,207.526,0,219.15,0,234.002 v22.812c0,14.852,11.732,27.648,26.58,27.648h330.496L252.248,388.926c-5.068,5.072-7.86,11.652-7.86,18.864 c0,7.204,2.792,13.88,7.86,18.948l16.132,16.084c5.072,5.072,11.828,7.836,19.044,7.836c7.208,0,13.968-2.8,19.04-7.872 l177.68-177.68c5.084-5.088,7.88-11.88,7.86-19.1C492.02,238.762,489.228,231.966,484.14,226.886z"})));function w(e,t){var a=e.title,n=e.titleId,c=k(e,["title","titleId"]);return l.createElement("svg",g({className:"single-view__arrow--svg",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 492.004 492.004",style:{enableBackground:"new 0 0 492.004 492.004"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,N)}var y=l.forwardRef(w),C=(a.p,function(e,t){var a=Object(l.useState)(!1),n=Object(m.a)(a,2),c=n[0],r=n[1],s=Object(l.useState)(null),i=Object(m.a)(s,2),o=i[0],d=i[1];return{loading:c,request:Object(l.useCallback)(function(){var e=Object(O.a)(p.a.mark((function e(t){var a,n,l,c,s,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:null,l=i.length>3&&void 0!==i[3]?i[3]:{},r(!0),e.prev=4,n&&(n=JSON.stringify(n),l["Content-Type"]="application/json"),e.next=8,fetch(t,{method:a,body:n,headers:l});case 8:return c=e.sent,e.next=11,c.json();case 11:if(s=e.sent,c.ok){e.next=14;break}throw new Error("useHttp: "+s.message||!1);case 14:return r(!1),e.abrupt("return",s);case 18:throw e.prev=18,e.t0=e.catch(4),r(!1),d("useHttp catch: "+e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:o,clearError:Object(l.useCallback)((function(){return d(null)}),[])}}),S=a(2),E=(a(96),function(e){var t=Object(l.useState)({data:[],visible:!1,src:null}),a=Object(m.a)(t,2),c=a[0],r=a[1],s=C(),i=s.error,o=s.request,d=s.clearError;Object(l.useEffect)((function(){i&&console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+i),d()}),[d,i]);var u=Object(l.useCallback)(function(){var e=Object(O.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o("/api/map/single/photo","POST",t);case 3:a=e.sent,r({data:a}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[o]);Object(l.useEffect)((function(){u({id:e.id})}),[u]);var b=function(e){var t=e.target;r(Object(h.a)(Object(h.a)({},c),{},{visible:!c.visible,src:t.src}))};return Object(n.jsx)("div",{children:c.data.length>0&&Object(n.jsxs)("div",{children:[Object(n.jsx)(S.Carousel,{carouselId:"Carousel-2",className:"white-text center gallery",options:{fullWidth:!0,shift:0,indicators:!1,padding:10},children:c.data.map((function(e,t){return Object(n.jsx)("div",{className:"gallery__slide",children:Object(n.jsx)("img",{alt:"Photo",src:"../photo/"+e.name,onClick:b})},t)}))}),c.visible?Object(n.jsx)("div",{className:"gallery-view",onClick:function(){r(Object(h.a)(Object(h.a)({},c),{},{visible:!c.visible,src:null}))},children:Object(n.jsx)("img",{src:c.src,alt:"Photo",className:"gallery-view__img"})}):null]})})}),I=function(e){var t=Object(l.useState)({el:null}),a=Object(m.a)(t,2),c=a[0],r=a[1],s=C(),i=s.loading,o=s.error,d=s.request,u=s.clearError;Object(l.useEffect)((function(){o&&console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+o),u()}),[u,o]);var b=Object(l.useCallback)(function(){var e=Object(O.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("body",t),e.next=4,d("/api/map/single","POST",t);case 4:a=e.sent,console.log("SingleView fetched",a),r({el:a}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[d]);return Object(l.useEffect)((function(){b({id:e.id})}),[b]),Object(n.jsx)("div",{className:"single-view",children:i?Object(n.jsx)("div",{className:"single-view__loader",children:Object(n.jsx)(S.Preloader,{active:!0,color:"blue",flashing:!1,size:"small"})}):c.el&&Object(n.jsx)("div",{className:"single-view__wrapper",children:Object(n.jsxs)("div",{className:"single-view__info",children:[Object(n.jsxs)("div",{className:"single-view__block single-view__header",children:[Object(n.jsxs)("div",{className:"single-view__title",children:[Object(n.jsx)("button",{className:"single-view__button single-view__button--back",onClick:e.back,children:Object(n.jsx)(y,{})}),c.el.name_Med_punkt]}),c.el.type_Med_punkt&&Object(n.jsx)("div",{className:"single-view__type",children:c.el.type_Med_punkt}),Object(n.jsx)("div",{className:"single-view__schedule",children:c.el.schedule||"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})]}),Object(n.jsxs)("div",{className:"single-view__block",children:[Object(n.jsxs)("div",{className:"single-view__elem single-view__address",children:[Object(n.jsx)("div",{className:"single-view__subtitle",children:"\u0410\u0434\u0440\u0435\u0441:"}),f(c.el)||"\u0410\u0434\u0440\u0435\u0441 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"]}),Object(n.jsxs)("div",{className:"single-view__elem",children:[Object(n.jsx)("div",{className:"single-view__subtitle",children:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f:"}),c.el.parent]}),Object(n.jsxs)("div",{className:"single-view__elem",children:[Object(n.jsx)("div",{className:"single-view__subtitle single-view__subtitle--inline",children:"\u0410\u043f\u0442\u0435\u043a\u0430:"}),1===parseInt(c.el.Pharmacy)?"\u0435\u0441\u0442\u044c":"\u043e\u0442\u0441\u0442\u0443\u0441\u0442\u0432\u0443\u0435\u0442"]}),Object(n.jsxs)("div",{className:"single-view__elem",children:[Object(n.jsx)("div",{className:"single-view__subtitle single-view__subtitle--inline",children:"\u041f\u0435\u0440\u0432\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c:"}),1===parseInt(c.el.Access_to_primary_health_care)?"\u0435\u0441\u0442\u044c":"\u043e\u0442\u0441\u0442\u0443\u0441\u0442\u0432\u0443\u0435\u0442"]}),Object(n.jsxs)("div",{className:"single-view__elem",children:[Object(n.jsx)("div",{className:"single-view__subtitle single-view__subtitle--inline",children:"\u042d\u043a\u0441\u0442\u0440\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c:"}),1===parseInt(c.el.Availability_of_emergency_mediical_care)?"\u0435\u0441\u0442\u044c":"\u043e\u0442\u0441\u0442\u0443\u0441\u0442\u0432\u0443\u0435\u0442"]}),Object(n.jsxs)("div",{className:"single-view__elem",children:[Object(n.jsx)("div",{className:"single-view__subtitle single-view__subtitle--inline",children:"\u0423\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u0444\u0435\u043b\u044c\u0434\u0448\u0435\u0440\u0430\u043c\u0438:"}),c.el.staff||0]}),Object(n.jsxs)("div",{className:"single-view__elem",children:[Object(n.jsx)("div",{className:"single-view__subtitle single-view__subtitle--inline",children:"\u0413\u043e\u0434 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f:"}),c.el.Founding_year||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"]})]}),Object(n.jsx)(E,{photo:c.el.photo,id:c.el.id_Med_punkt})]})})})},T=a.p+"static/media/magnifier.28b0ad10.svg";function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var P=l.createElement("g",null,l.createElement("path",{d:"m420.404 0h-328.808c-50.506 0-91.596 41.09-91.596 91.596v328.809c0 50.505 41.09 91.595 91.596 91.595h328.809c50.505 0 91.595-41.09 91.595-91.596v-328.808c0-50.506-41.09-91.596-91.596-91.596zm61.596 420.404c0 33.964-27.632 61.596-61.596 61.596h-328.808c-33.964 0-61.596-27.632-61.596-61.596v-328.808c0-33.964 27.632-61.596 61.596-61.596h328.809c33.963 0 61.595 27.632 61.595 61.596z"}),l.createElement("path",{d:"m432.733 112.467h-228.461c-6.281-18.655-23.926-32.133-44.672-32.133s-38.391 13.478-44.672 32.133h-35.661c-8.284 0-15 6.716-15 15s6.716 15 15 15h35.662c6.281 18.655 23.926 32.133 44.672 32.133s38.391-13.478 44.672-32.133h228.461c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-273.133 32.133c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.686 17.133 17.133-7.686 17.133-17.133 17.133z"}),l.createElement("path",{d:"m432.733 241h-35.662c-6.281-18.655-23.927-32.133-44.672-32.133s-38.39 13.478-44.671 32.133h-228.461c-8.284 0-15 6.716-15 15s6.716 15 15 15h228.461c6.281 18.655 23.927 32.133 44.672 32.133s38.391-13.478 44.672-32.133h35.662c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-80.333 32.133c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.686 17.133 17.133-7.686 17.133-17.133 17.133z"}),l.createElement("path",{d:"m432.733 369.533h-164.194c-6.281-18.655-23.926-32.133-44.672-32.133s-38.391 13.478-44.672 32.133h-99.928c-8.284 0-15 6.716-15 15s6.716 15 15 15h99.928c6.281 18.655 23.926 32.133 44.672 32.133s38.391-13.478 44.672-32.133h164.195c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-208.866 32.134c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.685 17.133 17.132-7.686 17.134-17.133 17.134z"}));function M(e,t){var a=e.title,n=e.titleId,c=D(e,["title","titleId"]);return l.createElement("svg",B({id:"filter_icon",viewBox:"0 0 512 512",ref:t,"aria-labelledby":n},c),a?l.createElement("title",{id:n},a):null,P)}var A=l.forwardRef(M),q=(a.p,a(16)),L=(a(97),function(e){var t=C(),a=(t.loading,t.error),c=t.request,r=t.clearError,s=Object(l.useState)({pharmacy:null,firstAid:null,emergencyAssistance:null,staffing:null,foundationYearFrom:null,foundationYearTo:null}),i=Object(m.a)(s,2),o=i[0],d=i[1],u=function(e){var t=e.target,a=t.value,n=t.checked;d(Object(h.a)(Object(h.a)({},o),{},Object(q.a)({},a,!!n||null)))},b=function(e){var t=e.target,a=t.name,n=t.value;d(Object(h.a)(Object(h.a)({},o),{},Object(q.a)({},a,isNaN(parseInt(n))?null:parseInt(n))))};Object(l.useEffect)((function(){a&&console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+a),r()}),[r,a]);var j=Object(l.useCallback)(function(){var t=Object(O.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c("/api/map/filter","POST",a);case 3:n=t.sent,e.updateData(n.data,!0),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[c]);return Object(l.useEffect)((function(){j(o)}),[o]),Object(n.jsx)(S.CardPanel,{className:"search-filter white "+e.className+" "+(e.visible?"search-filter--visible":"search-filter--hidden"),children:Object(n.jsxs)("div",{className:"search-filter__wrapper",children:[Object(n.jsx)("h4",{className:"search-filter__title",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b:"}),Object(n.jsx)("div",{className:"search-filter__block",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,className:"search-filter__checkbox",id:"search-filter__pharmacy",label:"\u0410\u043f\u0442\u0435\u043a\u0430",value:"pharmacy",onClick:u})}),Object(n.jsx)("input",{type:"checkbox",className:"search-filter__checkbox"}),Object(n.jsx)("div",{className:"search-filter__block",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,className:"search-filter__checkbox",id:"search-filter__first-aid",label:"\u041f\u0435\u0440\u0432\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c",value:"firstAid",checked:!1,onClick:u})}),Object(n.jsx)("div",{className:"search-filter__block",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,className:"search-filter__checkbox",id:"search-filter__emergency-assistance",label:"\u042d\u043a\u0441\u0442\u0440\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c",value:"emergencyAssistance",onClick:u})}),Object(n.jsxs)("div",{className:"search-filter__block",children:[Object(n.jsx)(S.TextInput,{id:"search-filter__year-foundation-from",name:"foundationYearFrom",className:"search-filter__textarea",type:"number",label:"\u0413\u043e\u0434 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f (\u043e\u0442)",onBlur:b}),Object(n.jsx)(S.TextInput,{id:"search-filter__year-foundation-to",type:"number",className:"search-filter__textarea",name:"foundationYearTo",label:"\u0413\u043e\u0434 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f (\u0434\u043e)",onBlur:b})]})]})})}),z=(a(98),function(e){return Object(n.jsxs)(S.CardPanel,{className:e.scroll?"sidebar__header":"sidebar__header sidebar__header--fixed",children:[Object(n.jsx)("div",{className:"sidebar__search",children:Object(n.jsx)(S.TextInput,{id:"sidebar-input",inputClassName:"sidebar__text-input",placeholder:"\u041f\u043e\u0438\u0441\u043a",xl:!0,onChange:e.handleInput})}),Object(n.jsxs)("div",{className:"sidebar__controls",children:[Object(n.jsx)("button",{className:"sidebar__button sidebar__button--search",children:Object(n.jsx)("img",{src:T,alt:"\u041f\u043e\u0438\u0441\u043a"})}),Object(n.jsx)("button",{className:"sidebar__button sidebar__button--filter",onClick:e.handleFilter,children:Object(n.jsx)(A,{})})]}),Object(n.jsx)(L,{updateData:e.updateData,visible:e.filterShow})]})}),V=(a(99),function(e){var t=function(e,t){var a=e.pageY;t.style.top=a+"px"};return Object(n.jsx)("div",{className:"scrollbar",children:Object(n.jsx)("div",{className:"scrollbar__slider",onDragStart:function(e){return function(e){var a=e.target;document.addEventListener("mousemove",t(e,a),!1)}(e)},onDragEnd:function(e){return function(e){document.removeEventListener("mousemove",t(e,e.target),!1)}(e)}})})}),Y=function(e){var t=c.a.createRef(),a=Object(l.useState)({scroll:!1,search:null,filter:{show:!1}}),r=Object(m.a)(a,2),s=r[0],i=r[1],o=Object(l.useContext)(x),d=o.mapState,u=o.setMapState,b=function(e,t){var a=e.scrollHeight,n=e.offsetHeight,l=n*n/a;t.style.display=l===a?"none":"block",t.querySelector(".scrollbar__slider").style.height=l+"px"};Object(l.useEffect)((function(){var e=document.querySelector(".sidebar__panel"),t=document.querySelector(".scrollbar");b(e,t)}),[e.singleView,e.data]),window.addEventListener("resize",(function(e){var t=document.querySelector(".sidebar__panel"),a=document.querySelector(".scrollbar");b(t,a)}),!1);Object(l.useEffect)((function(){e.updateData(e.data.default.filter((function(e){return-1!==e.name_Med_punkt.toLowerCase().indexOf(s.search)})))}),[s.search]);return Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsx)("button",{className:"sidebar__toggle-button sidebar__toggle-button--a",onClick:function(e){e.target.classList.toggle("sidebar__toggle-button--active"),e.target.closest(".sidebar").classList.toggle("sidebar--hidden")}}),Object(n.jsxs)("div",{className:"sidebar__wrapper",children:[Object(n.jsx)(z,{filterShow:s.filter.show,scroll:s.scroll,handleInput:function(e){i(Object(h.a)(Object(h.a)({},s),{},{search:e.target.value.trim().toLowerCase()}))},handleFilter:function(){i(Object(h.a)(Object(h.a)({},s),{},{filter:Object(h.a)(Object(h.a)({},s.filter),{},{show:!s.filter.show})}))},updateData:e.updateData}),Object(n.jsxs)("div",{className:"sidebar__panel",ref:t,onScroll:function(){var e=t.current.scrollTop;i(e>50?Object(h.a)(Object(h.a)({},s),{},{scroll:!0}):Object(h.a)(Object(h.a)({},s),{},{scroll:!1}));var a=document.querySelector(".scrollbar").querySelector(".scrollbar__slider"),n=document.querySelector(".sidebar__panel"),l=n.scrollTop/n.scrollHeight;a.style.top=l*n.offsetHeight+"px"},children:[e.loading?Object(n.jsx)("div",{className:"sidebar__loader",children:Object(n.jsx)(S.Preloader,{active:!0,color:"blue",flashing:!1,size:"small"})}):e.singleView.flag?Object(n.jsx)(I,{id:e.data.default.find((function(t){return t.id_Med_punkt===e.singleView.id})).id_Med_punkt,back:function(t){return e.data.default.find((function(e){return!0===e.active})).active=!1,void e.setSingleView({flag:!1,id:null})}}):Object(n.jsx)(v,{loading:e.loading,list:e.data.modified,searchViewClick:function(t,a){var n=e.data.default.find((function(e){return!0===e.active}));n&&(n.active=!1);var l=e.data.default.find((function(e){return e.id_Med_punkt===a}));l.active=!0,u(Object(h.a)(Object(h.a)({},d),{},{center:[l.latitude,l.longitude]})),e.setSingleView({flag:!0,id:l.id_Med_punkt})}}),Object(n.jsx)(V,{})]})]})]})},F=(a(100),a(20)),H=void 0,R=function(e){var t=Object(l.useContext)(x),a=t.mapState,c=t.setMapState;var r=function(e){return{preset:"islands#violetIcon",iconColor:!0===e.active?"#e20101":"#26a69a"}};return Object(n.jsx)("div",{className:"map",children:Object(n.jsx)(F.d,{onApiAvaliable:function(e){return function(e){console.log(e);var t=function(e){return e.templateLayoutFactory.createClass("<div id='zoom-in' class='btn'><i class='icon-plus'>1</i></div><br>")}(e);H.setState({layout:t})}(e)},children:Object(n.jsx)(F.b,{state:a,className:"y-map",instanceRef:a,children:Object(n.jsx)(F.a,{options:{preset:"islands#darkGreenClusterIcons",groupByCoordinates:!1,clusterDisableClickZoom:!1,clusterHideIconOnBalloonOpen:!1,geoObjectHideIconOnBalloonOpen:!1,iconColor:"#26a69a"},children:e.data&&e.data.modified.length>0?e.data.modified.map((function(t,l){return Object(n.jsx)(F.c,{geometry:[t.latitude,t.longitude],properties:{clusterCaption:"placemark <strong></strong>"},options:r(t),modules:["geoObject.addon.balloon","geoObject.addon.hint"],onClick:function(n){return function(t,n){var l=e.data.default.find((function(e){return!0===e.active}));l&&(l.active=!1);var r=e.data.default.find((function(e){return e.id_Med_punkt===n}));r.active=!0,c(Object(h.a)(Object(h.a)({},a),{},{center:[r.latitude,r.longitude]})),e.setSingleView({flag:!0,id:r.id_Med_punkt})}(0,t.id_Med_punkt)}},l)})):null})})})})},W=(a(101),a(102),a(39),a(103),function(e){var t=function(e,t){var a=Object(l.useState)(!1),n=Object(m.a)(a,2),c=n[0],r=n[1],s=Object(l.useState)(null),i=Object(m.a)(s,2),o=i[0],d=i[1];return{loading:c,request:Object(l.useCallback)(function(){var e=Object(O.a)(p.a.mark((function e(t){var a,n,l,c,s,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:null,l=i.length>3&&void 0!==i[3]?i[3]:{},r(!0),e.prev=4,n&&(n=JSON.stringify(n),l["Content-Type"]="application/json"),e.next=8,fetch(t,{method:a,body:n,headers:l});case 8:return c=e.sent,e.next=11,c.arrayBuffer().then((function(e){for(var t="",a=new Uint8Array(e),n=a.byteLength,l=0;l<n;l++)t+=String.fromCharCode(a[l]);return"data:application/octet-stream;base64,"+t}));case 11:if(s=e.sent,c.ok){e.next=14;break}throw new Error("useArrayBuffer: "+s.message||!1);case 14:return r(!1),e.abrupt("return",s);case 18:throw e.prev=18,e.t0=e.catch(4),r(!1),d("useArrayBuffer catch: "+e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:o,clearError:Object(l.useCallback)((function(){return d(null)}),[])}}(),a=t.loading,c=t.error,r=t.request,s=t.clearError;Object(l.useEffect)((function(){c&&console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+c),s()}),[s,c]);var i=Object(l.useCallback)(function(){var e=Object(O.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r("/api/reports/pdf","POST",t);case 3:a=e.sent,(n=window.document.createElement("a")).href=a,n.download="report.".concat((new Date).toLocaleDateString(),".pdf"),document.body.appendChild(n),n.click(),document.body.removeChild(n),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}());return Object(n.jsxs)(S.Modal,{actions:[Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"report-view__button--footer",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432 DOCX"}),Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"report-view__button--footer",onClick:function(t){i(e.data)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432 PDF"}),Object(n.jsx)(S.Button,{modal:"close",node:"button",waves:"light",className:"red darken-3 report-view__button--footer",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})],bottomSheet:!1,fixedFooter:!0,id:"report-modal",className:"report-view__modal",open:!1,options:{dismissible:!0,endingTop:"10%",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"4%"},children:[Object(n.jsx)("div",{children:Object(n.jsx)("h2",{className:"report-view__title",children:e.data&&e.data.title?e.data.title:"\u041e\u0442\u0447\u0435\u0442"})}),Object(n.jsx)("div",{className:"report-view__wrapper",children:e.loading?Object(n.jsx)(S.ProgressBar,{}):0===e.data.objects.length?"\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430":Object(n.jsxs)(S.Table,{children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:e.data&&e.data.headers.map((function(e,t){return Object(n.jsx)("th",{children:e},t)}))})}),Object(n.jsx)("tbody",{children:e.data&&e.data.objects.map((function(t,a){return Object(n.jsx)("tr",{children:Object.keys(t).map((function(a,l){return Object(n.jsx)("td",{"data-label":e.data.headers[l],children:null==t[a]?"\u041e\u0442\u0441\u0442\u0443\u0441\u0442\u0432\u0443\u0435\u0442":1===t[a]?"\u0415\u0441\u0442\u044c":0===t[a]?"\u041d\u0435\u0442":t[a]},l)}))},a)}))})]})}),a&&Object(n.jsxs)("div",{className:"report-view__loader",children:[Object(n.jsx)(S.Preloader,{active:!0,color:"blue",flashing:!1,size:"big"}),Object(n.jsx)("div",{className:"report-view__loader-message",children:"\u041e\u0442\u0447\u0435\u0442 \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442\u0441\u044f ..."})]})]})}),J=function(e){var t=function(t){var a=t.target,n=a.value,l=a.name;e.setParams(Object(h.a)(Object(h.a)({},e.params),{},Object(q.a)({},l,isNaN(parseInt(n))?null:parseInt(n))))},a=function(t){var a=t.target,n=a.value,l=a.checked,c=e.params.conditions;if(l)c.includes(n)||(c.push(n),e.setParams(Object(h.a)(Object(h.a)({},e.params),{},{conditions:c})));else{var r=c.indexOf(n);r>-1&&c.splice(r,1)}},l=function(t){var a=t.target,n=a.name,l=a.checked,c=e.params.columns;if(l)c.includes(n)||(c.push(n),e.setParams(Object(h.a)(Object(h.a)({},e.params),{},{columns:c})));else{var r=c.indexOf(n);r>-1&&c.splice(r,1)}};return Object(n.jsxs)("div",{className:"report-builder report-panel__builder",children:[Object(n.jsxs)("div",{className:"report-panel__wrapper",children:[Object(n.jsx)("h4",{className:"report-panel__subtitle",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b:"}),Object(n.jsxs)(S.Select,{id:"report-area",className:"report-panel__select",multiple:!1,onChange:function(t){return e.setParams(Object(h.a)(Object(h.a)({},e.params),{},{area:t.target.value}))},options:{classes:"",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:"",children:[Object(n.jsx)("option",{disabled:!0,value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0439\u043e\u043d"}),e.area.map((function(e,t){return Object(n.jsx)("option",{value:e.idrayon,children:e.name_rayon},t)}))]}),Object(n.jsxs)("div",{className:"report-panel__container",children:[Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,onClick:a,id:"report-panel__pharmacy",label:"\u0410\u043f\u0442\u0435\u043a\u0430",value:"pharmacy"})}),Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,onClick:a,id:"report-panel__first-aid",label:"\u041f\u0435\u0440\u0432\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c",value:"first-aid"})}),Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,onClick:a,id:"report-panel__emergency-assistance",label:"\u042d\u043a\u0441\u0442\u0440\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c",value:"emergency-assistance"})}),Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,onClick:a,id:"report-panel__staffing",label:"\u0423\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u0444\u0435\u043b\u044c\u0434\u0448\u0435\u0440\u0430\u043c\u0438",value:"staffing"})})]}),Object(n.jsxs)("div",{className:"report-panel__block flex flex--between report-panel__block--mobile-width",children:[Object(n.jsx)("div",{className:"report-panel__block--half report-panel__block--wrap",children:Object(n.jsx)(S.TextInput,{id:"report-panel__year-foundation-from",type:"number",onBlur:t,name:"foundationYearFrom",label:"\u0413\u043e\u0434 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f (\u043e\u0442)"})}),Object(n.jsx)("div",{className:"report-panel__block--half report-panel__block--wrap",children:Object(n.jsx)(S.TextInput,{id:"report-panel__year-foundation-to",type:"number",onBlur:t,name:"foundationYearTo",label:"\u0413\u043e\u0434 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f (\u0434\u043e)"})})]})]}),Object(n.jsxs)("div",{className:"report-panel__wrapper",children:[Object(n.jsx)("h4",{className:"report-panel__subtitle",children:"\u041f\u043e\u043b\u044f:"}),Object(n.jsxs)("div",{className:"report-panel__container",children:[Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,id:"report-columns-name",className:"report-columns",onClick:l,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name"})}),Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,id:"report-columns-address",className:"report-columns",onClick:l,label:"\u0410\u0434\u0440\u0435\u0441",name:"address"})}),Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,id:"report-columns-type",className:"report-columns",onClick:l,label:"\u0422\u0438\u043f",name:"type"})}),Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,id:"report-columns-phone",className:"report-columns",onClick:l,label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",name:"phone"})}),Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,id:"report-columns-pharmacy",className:"report-columns",onClick:l,label:"\u0410\u043f\u0442\u0435\u043a\u0430",name:"pharmacy"})}),Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,id:"report-columns-emergency-assistance",className:"report-columns",onClick:l,label:"\u042d\u043a\u0441\u0442\u0440\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c",name:"emergencyAssistance"})}),Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,id:"report-columns-emergency-first-aid",className:"report-columns",onClick:l,label:"\u041f\u0435\u0440\u0432\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c",name:"firstAid"})}),Object(n.jsx)("div",{className:"report-panel__block report-panel__block--half",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,id:"report-columns-emergency-founding-year",className:"report-columns",onClick:l,label:"\u0413\u043e\u0434 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f",name:"foundingYear"})})]})]}),Object(n.jsxs)("div",{className:"report-panel__controls",children:[Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"modal-trigger report-panel__control",href:"#report-modal",onClick:e.handleReportButton,children:"\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0442\u0447\u0435\u0442"}),Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"red darken-3 report-panel__control report-panel__button--close",onClick:e.closeModal,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})},G=function(e){var t=Object(l.useState)({columns:[],conditions:[]}),a=Object(m.a)(t,2),c=a[0],r=a[1],s=Object(l.useState)({headers:[],objects:[]}),i=Object(m.a)(s,2),o=i[0],d=i[1],u=C(),b=u.loading,j=u.error,_=u.request,f=u.clearError;Object(l.useEffect)((function(){j&&console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+j),f()}),[f,j]);var v=Object(l.useCallback)(function(){var e=Object(O.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("/api/reports","POST",t);case 3:a=e.sent,console.log(a),d(a),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[_]),x=function(e){var t=e.target;d(Object(h.a)(Object(h.a)({},c),{},{objects:[]})),v(Object(h.a)(Object(h.a)({},c),{},{area:c.areaPrepared,title:t.getAttribute("data-title"),columns:t.getAttribute("columns")?t.getAttribute("columns").split(","):[]}))};return Object(n.jsxs)("div",{className:"report-panel shadow",children:[Object(n.jsx)("div",{className:"report-panel__wrapper",children:Object(n.jsxs)(S.Collapsible,{className:"report-panel__collapsible",accordion:!0,children:[Object(n.jsx)(S.CollapsibleItem,{expanded:!1,header:"\u0417\u0430\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043e\u0442\u0447\u0435\u0442\u044b",node:"div",className:"report-panel__collapsible-item report-panel__collapsible-item--prepared",children:Object(n.jsxs)("div",{className:"report-panel__wrapper",children:[Object(n.jsxs)(S.Select,{id:"report-area",className:"report-panel__select",multiple:!1,onChange:function(e){return r(Object(h.a)(Object(h.a)({},c),{},{areaPrepared:e.target.value}))},options:{classes:"",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:"",children:[Object(n.jsx)("option",{disabled:!0,value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0439\u043e\u043d"}),e.area.map((function(e,t){return Object(n.jsx)("option",{value:e.idrayon,children:e.name_rayon},t)}))]}),Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"report-panel__button modal-trigger",onClick:x,columns:["name","phone"],href:"#report-modal","data-title":"\u041e\u0442\u0447\u0435\u0442 \u043e\u0431 \u0443\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u043c\u0435\u0434. \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0430\u043c\u0438",children:"\u041e\u0442\u0447\u0435\u0442 \u043e\u0431 \u0443\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u043c\u0435\u0434. \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0430\u043c\u0438"}),Object(n.jsx)(S.Button,{node:"button",waves:"light",columns:["name","locality","address","phone","foundingYear","firstAid","emergencyAssistance"],className:"report-panel__button modal-trigger",onClick:x,href:"#report-modal","data-title":"\u041e\u0442\u0447\u0435\u0442 \u043e \u043c\u0435\u0434. \u043f\u0443\u043d\u043a\u0442\u0430\u0445 \u0441 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u043e\u0439 \u043f\u043e\u043c\u043e\u0449\u0438",children:"\u041e\u0442\u0447\u0435\u0442 \u043e \u043c\u0435\u0434. \u043f\u0443\u043d\u043a\u0442\u0430\u0445 \u0441 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u043c\u0435\u0434. \u043f\u043e\u043c\u043e\u0449\u0438"}),Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"report-panel__button modal-trigger",onClick:x,columns:["name","locality","address","phone","foundingYear","pharmacy"],href:"#report-modal","data-title":"\u041e\u0442\u0447\u0435\u0442 \u043e \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0438\u0445 \u043f\u0443\u043d\u043a\u0442\u0430\u0445 \u0441 \u0430\u043f\u0442\u0435\u043a\u0430\u043c\u0438",children:"\u041e\u0442\u0447\u0435\u0442 \u043e \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0438\u0445 \u043f\u0443\u043d\u043a\u0442\u0430\u0445 \u0441 \u0430\u043f\u0442\u0435\u043a\u0430\u043c\u0438"}),Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"report-panel__button modal-trigger",onClick:x,href:"#report-modal","data-title":"\u041e\u0442\u0447\u0451\u0442 \u043e \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0438\u0445 \u043f\u0443\u043d\u043a\u0442\u0430\u0445 \u0441 \u043f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043d\u043e\u0439 \u0440\u0435\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0435\u0439",children:"\u041e\u0442\u0447\u0451\u0442 \u043e \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0438\u0445 \u043f\u0443\u043d\u043a\u0442\u0430\u0445 \u0441 \u043f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043d\u043e\u0439 \u0440\u0435\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0435\u0439"})]})}),Object(n.jsx)(S.CollapsibleItem,{expanded:!0,header:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u043e\u0442\u0447\u0435\u0442\u043e\u0432",node:"div",className:"report-panel__collapsible-item",children:Object(n.jsx)(J,{setParams:r,area:e.area,params:c,handleReportButton:function(e){d(Object(h.a)(Object(h.a)({},c),{},{objects:[]})),v(c)},closeModal:e.closeModal})})]})}),Object(n.jsx)(W,{loading:b,data:o})]})},U=function(e){var t=C(),a=(t.loading,t.error),c=t.request,r=t.clearError,s=Object(l.useState)({area:[]}),i=Object(m.a)(s,2),o=i[0],d=i[1],u=Object(l.useState)({show:!1}),b=Object(m.a)(u,2),j=b[0],_=b[1],f=function(e){_(Object(h.a)(Object(h.a)({},j),{},{show:!j.show}))};Object(l.useEffect)((function(){a&&console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+a),r()}),[r,a]);var v=Object(l.useCallback)(function(){var e=Object(O.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("body",t),e.next=4,c("/api/reports/area","POST",t);case 4:a=e.sent,console.log(a),d(Object(h.a)(Object(h.a)({},o),{},{area:a})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[c]);return Object(l.useEffect)((function(){v()}),[]),Object(n.jsxs)("div",{className:"reports",children:[Object(n.jsx)("div",{className:"reports__controls",children:Object(n.jsx)(S.Button,{node:"button",style:{marginRight:"5px"},waves:"light",onClick:f,children:"\u041e\u0442\u0447\u0435\u0442\u044b"})}),j.show?Object(n.jsx)(G,{area:o.area,closeModal:f}):null]})},X=function(){var e=C(),t=e.loading,a=e.error,c=e.request,r=e.clearError,s=Object(l.useState)({data:{default:[],modified:[]}}),i=Object(m.a)(s,2),o=i[0],d=i[1],u=Object(l.useState)({flag:!1,id:null}),b=Object(m.a)(u,2),j=b[0],_=b[1];Object(l.useEffect)((function(){a&&console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+a),r()}),[r,a]);var f=Object(l.useCallback)(Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("/api/map","POST");case 3:t=e.sent,console.log("fetched",t),d(Object(h.a)(Object(h.a)({},o),{},{data:{default:t.data,modified:t.data}})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])}))),[c]);Object(l.useEffect)((function(){f()}),[f]);var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];d(Object(h.a)(Object(h.a)({},o),{},{data:{default:t?e:o.data.default,modified:e}}))},g=Object(l.useState)({center:[52.287054,104.281047],zoom:9,behaviors:["default","scrollZoom"],controls:[]}),k=Object(m.a)(g,2),N=k[0],w=k[1];return Object(n.jsx)("div",{className:"container--map",children:Object(n.jsxs)(x.Provider,{value:{mapState:N,setMapState:w},children:[Object(n.jsx)(Y,{loading:t,data:o.data,updateData:v,singleView:j,setSingleView:_}),Object(n.jsx)(R,{loading:t,data:o.data,updateData:v,setSingleView:_}),Object(n.jsx)(U,{})]})})},Z=(a(104),a(105),function(e){return Object(n.jsxs)("header",{className:"page-header "+e.className,children:[Object(n.jsx)("h1",{className:"page-header__title",children:"\u041c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0438\u0435 \u043f\u0443\u043d\u043a\u0442\u044b"}),Object(n.jsx)("h4",{className:"page-header__subtitle",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043c\u0435\u0434. \u043f\u0443\u043d\u043a\u0442\u0430\u043d\u0445, \u0438\u043d\u0444\u043e\u0433\u0440\u0430\u0444\u0438\u043a\u0430 \u0438 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u043e\u0432"}),Object(n.jsxs)("div",{className:"page-header__controls",children:[Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"page-header__control",children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f"}),Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"page-header__control",children:"\u0420\u0435\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438"}),Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"page-header__control",children:"\u0423\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u044c"}),Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"page-header__control",children:"\u041e\u0442\u0447\u0435\u0442\u044b"})]}),Object(n.jsxs)("div",{className:"search",children:[Object(n.jsx)("div",{className:"page-header__search",children:Object(n.jsx)(S.TextInput,{id:"view-search__input",inputClassName:"view__text-input",label:"\u041f\u043e\u0438\u0441\u043a \u043c\u0435\u0434. \u043f\u0443\u043d\u043a\u0442\u043e\u0432",onChange:null})}),Object(n.jsxs)("div",{className:"search__controls",children:[Object(n.jsx)("button",{className:"search__button search__button--search",children:Object(n.jsx)("img",{src:T,alt:"\u041f\u043e\u0438\u0441\u043a"})}),Object(n.jsx)("button",{className:"search__button search__button--filter",onClick:null,children:Object(n.jsx)(A,{})})]}),Object(n.jsx)(L,{className:"page-header__search-filter",updateData:null,visible:null})]})]})}),K=(a(106),function(e){var t=function(e,t){e.preventDefault();e.target;!function(e,t,a){var n=document.querySelector(".context-menu");n&&(n.style="top: ".concat(t,"px; left: ").concat(e,"px; display: flex;"),document.addEventListener("click",(function(e){var t=e.target;t===n||n.contains(t)||(n.style.display="none")})))}(e.clientX,e.clientY)};return Object(n.jsxs)(S.Table,{className:"table-view",children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:e.headers&&e.headers.length>0&&e.headers.map((function(e,t){if("id"!==e)return Object(n.jsx)("th",{className:"table-view__header",children:e},t)}))})}),Object(n.jsx)("tbody",{children:e.data&&e.headers&&e.headers.length>0&&e.data.map((function(a,l){return Object(n.jsx)("tr",{className:"table-view__row",children:Object.keys(a).map((function(l,c){return Object(n.jsx)("td",{"data-label":e.headers[c],onContextMenu:function(e){return t(e,a.id_Med_punkt)},children:a[l]},c)}))},l)}))})]})}),Q=(a(107),a(108),function(e){return Object(n.jsx)(S.Modal,{actions:[Object(n.jsx)(S.Button,{node:"button",waves:"light",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(n.jsx)(S.Button,{modal:"close",node:"button",waves:"light",className:"red darken-3",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})],bottomSheet:!1,fixedFooter:!1,className:"add-panel",id:"context-menu-add-modal",open:!1,options:{dismissible:!0,endingTop:"10%",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:.5,outDuration:250,preventScrolling:!0,startingTop:"4%"},children:Object(n.jsxs)("div",{className:"add-panel__wrapper",children:[Object(n.jsx)("div",{className:"add-panel__header",children:Object(n.jsx)("h3",{className:"add-panel__title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0435\u0434. \u043f\u0443\u043d\u043a\u0442\u0430"})}),Object(n.jsx)("div",{className:"add-panel__body",children:Object(n.jsxs)("div",{className:"add-panel__row",children:[Object(n.jsxs)("div",{className:"add-panel__column",children:[Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsxs)(S.Select,{id:"report-area",className:"add-panel__select",multiple:!1,onChange:!0,options:{classes:"",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:"",children:[Object(n.jsx)("option",{disabled:!0,value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),Object(n.jsx)("option",{value:"123",children:"123"},1)]})}),Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsxs)(S.Select,{id:"report-district",className:"add-panel__select",multiple:!1,onChange:!0,options:{classes:"",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:"",children:[Object(n.jsx)("option",{disabled:!0,value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0439\u043e\u043d"}),Object(n.jsx)("option",{value:"123",children:"123"},1)]})}),Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsxs)(S.Select,{id:"report-medical-institution",className:"add-panel__select",multiple:!1,onChange:!0,options:{classes:"",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:"",children:[Object(n.jsx)("option",{disabled:!0,value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442"}),Object(n.jsx)("option",{value:"123",children:"123"},1)]})}),Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsxs)(S.Select,{id:"report-medical-institution",className:"add-panel__select",multiple:!1,onChange:!0,options:{classes:"",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:"",children:[Object(n.jsx)("option",{disabled:!0,value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0434. \u0443\u0447\u0435\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435"}),Object(n.jsx)("option",{value:"123",children:"123"},1)]})}),Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsx)(S.TextInput,{className:"add-panel__input",id:"add-panel-input-name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0434. \u043f\u0443\u043d\u043a\u0442\u0430"})}),Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsxs)(S.Select,{id:"report-type",className:"add-panel__select",multiple:!1,onChange:!0,options:{classes:"",dropdownOptions:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250}},value:"",children:[Object(n.jsx)("option",{disabled:!0,value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u043c\u0435\u0434. \u043f\u0443\u043d\u043a\u0442\u0430"}),Object(n.jsx)("option",{value:"123",children:"123"},1)]})})]}),Object(n.jsxs)("div",{className:"add-panel__column",children:[Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsx)(S.TextInput,{className:"add-panel__input",id:"add-panel-input-street",label:"\u0423\u043b\u0438\u0446\u0430"})}),Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsx)(S.TextInput,{className:"add-panel__input",id:"add-panel-input-house-number",label:"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"})}),Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsx)(S.TextInput,{className:"add-panel__input",id:"add-panel-input-latitude",label:"\u0428\u0438\u0440\u043e\u0442\u0430"})}),Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsx)(S.TextInput,{className:"add-panel__input",id:"add-panel-input-longitude",label:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430"})}),Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsx)(S.TextInput,{className:"add-panel__input",id:"add-panel-input-phone",label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"})}),Object(n.jsx)("div",{className:"add-panel__block",children:Object(n.jsx)(S.TextInput,{className:"add-panel__input",id:"add-panel-input-foundation-year",label:"\u0413\u043e\u0434 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f"})})]}),Object(n.jsxs)("div",{className:"add-panel__column",children:[Object(n.jsxs)("div",{className:"add-panel__block add-panel__block--height",children:[Object(n.jsx)("div",{className:"input-field col",children:Object(n.jsx)(S.TextInput,{id:"add-panel-input-photo",label:"\u0424\u043e\u0442\u043e",type:"file",onChange:function(e){var t=e.target,a=t.files;try{var n=a[0],l=URL.createObjectURL(n);console.log(l),t.closest(".add-panel__block").querySelector("img").src=l}catch(e){console.log(e)}}})}),Object(n.jsx)("img",{src:"",alt:"Photo"})]}),Object(n.jsx)("div",{className:"add-panel__block add-panel__block--height",children:Object(n.jsx)("div",{className:"input-field col",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,id:"add-panel-first-aid",label:"\u041f\u0435\u0440\u0432\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c",name:"first-aid"})})}),Object(n.jsx)("div",{className:"add-panel__block add-panel__block--height",children:Object(n.jsx)("div",{className:"input-field col",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,id:"add-panel-emergency-assistance",label:"\u042d\u043a\u0441\u0442\u0440\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c",name:"emergency-assistance"})})}),Object(n.jsx)("div",{className:"add-panel__block add-panel__block--height",children:Object(n.jsx)("div",{className:"input-field col",children:Object(n.jsx)(S.Checkbox,{filledIn:!0,id:"add-panel-pharmacy",label:"\u0410\u043f\u0442\u0435\u043a\u0430",name:"pharmacy"})})})]})]})})]})})}),$=function(e){return Object(n.jsxs)("div",{className:"context-menu",children:[Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"context-menu__button modal-trigger",onClick:function(e){},href:"#context-menu-add-modal",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"context-menu__button",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(n.jsx)(S.Button,{node:"button",waves:"light",className:"context-menu__button red",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(n.jsx)(Q,{})]})},ee=function(){var e=C(),t=e.loading,a=e.error,c=e.request,r=e.clearError,s=Object(l.useState)({data:[],headers:[]}),i=Object(m.a)(s,2),o=i[0],d=i[1];Object(l.useEffect)((function(){a&&console.log("\u041e\u0448\u0438\u0431\u043a\u0430: "+a),r()}),[r,a]);var u=Object(l.useCallback)(Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("/api/view","POST");case 3:t=e.sent,d(Object(h.a)(Object(h.a)({},o),{},{data:t.data,headers:t.headers})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[c]);return Object(l.useEffect)((function(){u()}),[u]),Object(n.jsxs)("div",{className:"view",children:[Object(n.jsx)("div",{className:"container view__container",children:Object(n.jsx)(Z,{className:"view__header"})}),Object(n.jsxs)("div",{className:"container table-container",children:[t?Object(n.jsx)(S.ProgressBar,{}):0===o.data.length?"\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430":Object(n.jsx)(K,{data:o.data,headers:o.headers}),Object(n.jsx)($,{})]})]})},te="userData";a(109);var ae=function(){var e=function(){var e=Object(l.useState)(null),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(null),r=Object(m.a)(c,2),s=r[0],i=r[1],o=Object(l.useCallback)((function(e,t){n(e),i(t),localStorage.setItem(te,JSON.stringify({userId:t,token:e}))}),[]),d=Object(l.useCallback)((function(){n(null),i(null),localStorage.removeItem(te)}),[]);return Object(l.useEffect)((function(){var e=JSON.parse(localStorage.getItem(te));e&&e.token&&o(e.token,e.userId)}),[o]),{login:o,logout:d,token:a,userId:s}}(),t=e.token,a=e.login,c=e.logout,r=e.userId,s=!!t,d=Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/admin",children:Object(n.jsx)(b,{})}),Object(n.jsx)(o.b,{path:"/detail/:id",children:Object(n.jsx)(X,{})}),Object(n.jsx)(o.b,{path:"/view",children:Object(n.jsx)(ee,{})}),Object(n.jsx)(o.b,{path:"/",children:Object(n.jsx)(X,{})}),Object(n.jsx)(o.a,{to:"/"})]});return Object(n.jsx)(u.Provider,{value:{token:t,login:a,logout:c,userId:r,isAuthenticated:s},children:Object(n.jsx)(i.a,{children:d})})};document.documentElement.lang="ru",s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(ae,{})}),document.getElementById("root"))},32:function(e,t,a){},39:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.3f34fd99.chunk.js.map