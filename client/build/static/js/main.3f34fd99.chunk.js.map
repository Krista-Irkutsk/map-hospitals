{"version":3,"sources":["context/AuthContext.js","pages/AdminPage.js","components/SearchView.js","functions/getAddress.js","components/ListView.js","context/MapContext.js","img/arrow-back.svg","hooks/http.hook.js","components/Gallery.js","components/SingleView.js","img/magnifier.svg","img/filter.svg","components/SearchFilter.js","components/Search.js","components/Scrollbar.js","components/Sidebar.js","components/Maps.js","components/ReportView.js","hooks/useArrayBuffer.hook.js","components/ReportBuilder.js","components/ReportPanel.js","components/Reports.js","pages/MapPage.js","components/PageHeader.js","components/TableView.js","components/AddPanel.js","components/ContextMenu.js","pages/ViewPage.js","hooks/auth.hook.js","App.js","routes.js","index.js"],"names":["noop","AuthContext","createContext","token","userId","login","logout","isAuthenticated","AdminPage","history","useHistory","auth","useContext","to","onClick","event","preventDefault","push","SearchView","props","className","e","searchViewClick","id","href","name","addres","schedule","getAddress","view","str","name_obl","name_rayon","name_nas_punkt","Street","Number_of_house","trim","length","ListView","loading","list","map","i","name_Med_punkt","id_Med_punkt","MapContext","mapState","setMapState","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","SvgArrowBack","_ref","svgRef","title","titleId","x","y","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","useHttp","callback","deps","useState","setLoading","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","message","clearError","Gallery","visible","src","state","setState","useEffect","console","log","fetchData","fetched","handleSlideImageClick","carouselId","options","fullWidth","shift","indicators","padding","el","alt","SingleView","active","color","flashing","size","back","type_Med_punkt","parent","parseInt","Pharmacy","Access_to_primary_health_care","Availability_of_emergency_mediical_care","staff","Founding_year","photo","SvgFilter","SearchFilter","filters","setFilters","handleCheckBoxFilterClick","value","checked","handleTextareaBlur","isNaN","updateData","filledIn","label","type","onBlur","Search","scroll","inputClassName","placeholder","xl","onChange","handleInput","magnifer","handleFilter","filterShow","Scrollbar","documentMouseMoveListener","offset","pageY","top","onDragStart","document","addEventListener","handleSliderDragStart","onDragEnd","removeEventListener","handleSliderDragEnd","Sidebar","panelScrollRef","React","createRef","search","filter","show","scrollInit","elem","scrollbar","scrollHeight","viewHeight","offsetHeight","scrollbarSliderHeight","display","querySelector","height","scrollElem","singleView","window","default","obj","toLowerCase","classList","toggle","closest","onScroll","scrollTop","current","scrollbarSlider","scrollPanel","scrollToTop","flag","find","setSingleView","modified","elActive","latitude","longitude","Maps","getPointOptions","preset","iconColor","onApiAvaliable","ymaps","layout","templateLayoutFactory","createClass","createZoomControlLayout","handleApiAvailable","instanceRef","groupByCoordinates","clusterDisableClickZoom","clusterHideIconOnBalloonOpen","geoObjectHideIconOnBalloonOpen","geometry","properties","clusterCaption","modules","handlePlacemarkClick","ReportView","arrayBuffer","then","buffer","binary","bytes","Uint8Array","len","byteLength","String","fromCharCode","useArrayBuffer","createElement","download","Date","toLocaleDateString","appendChild","click","removeChild","actions","node","waves","modal","bottomSheet","fixedFooter","open","dismissible","endingTop","inDuration","onCloseEnd","onCloseStart","onOpenEnd","onOpenStart","opacity","outDuration","preventScrolling","startingTop","objects","j","data-label","ReportBuilder","setParams","params","handleReportParamClick","conditions","includes","index","splice","handleCheckBoxClick","columns","multiple","classes","dropdownOptions","alignment","autoTrigger","closeOnClick","constrainWidth","coverTrigger","hover","disabled","area","idrayon","handleReportButton","closeModal","ReportPanel","setData","handlePreparedReportsButton","areaPrepared","getAttribute","split","accordion","expanded","header","data-title","Reports","reportState","setReportState","marginRight","MapPage","force","center","zoom","behaviors","controls","Provider","PageHeader","TableView","handleTableContextMenu","contains","getContextMenu","clientX","clientY","onContextMenu","AddPanel","files","file","URL","createObjectURL","ContextMenu","ViewPage","storageName","App","setToken","setUserId","jwtToken","localStorage","setItem","removeItem","parse","getItem","useAuth","routes","path","documentElement","lang","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3f34fd99.chunk.js","sourcesContent":["import {createContext} from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n  token: null,\r\n  userId: null,\r\n  login: noop,\r\n  logout: noop,\r\n  isAuthenticated: false\r\n})","import React, {useContext} from 'react'\r\nimport {NavLink, useHistory} from 'react-router-dom'\r\nimport {AuthContext} from \"../context/AuthContext\";\r\n\r\nexport const AdminPage = () => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext)\r\n\r\n  const logoutHandler = (event) => {\r\n    event.preventDefault()\r\n    auth.logout()\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Admin Page</h1>\r\n      <ul>\r\n        <li><NavLink to=\"/\">Карта</NavLink></li>\r\n        <li><button\r\n          onClick={logoutHandler}\r\n        >\r\n          Выйти\r\n        </button></li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport './SearchView.scss'\r\n\r\nexport const SearchView = (props) => {\r\n  return (\r\n    <div\r\n      className=\"search-view\"\r\n      onClick={(e) => {\r\n        props.searchViewClick(e, props.id)\r\n      }}\r\n    >\r\n\r\n      <div className=\"search-view__info\">\r\n\r\n        <div className=\"search-view__title\">\r\n          <a className=\"search-view__link\" href=\"#\">{props.name}</a>\r\n        </div>\r\n\r\n        <div className=\"search-view__address\">\r\n          {props.addres || \"Адрес не указан\"}\r\n        </div>\r\n\r\n        <div className=\"search-view__schedule\">\r\n          {props.schedule || \"График работы не указан\"}\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}","const getAddress = (view) => {\r\n\r\n  let str = ''\r\n\r\n  str = view.name_obl ? str + view.name_obl : str\r\n  str = view.name_rayon ? str + ', ' + view.name_rayon : str\r\n  str = view.name_nas_punkt ? str + ', ' + view.name_nas_punkt : str\r\n  str = view.Street ? str + ', ' + view.Street : str\r\n  str = view.Number_of_house ? str + ', ' + view.Number_of_house : str\r\n\r\n  if (str.trim().length === 0)\r\n    str = null\r\n\r\n  return str\r\n}\r\n\r\nexport default getAddress","import React from 'react'\r\nimport './ListView.scss'\r\nimport {SearchView} from \"./SearchView\";\r\nimport getAddress from \"../functions/getAddress\";\r\n\r\n\r\nexport const ListView = (props) => {\r\n\r\n  return (\r\n    <div className=\"list-view\">\r\n      {!props.loading ?  props.list && props.list.length > 0 ? props.list.map((view, i) => (\r\n        <SearchView\r\n          key={i}\r\n          name={view.name_Med_punkt}\r\n          addres={getAddress(view)}\r\n          id={view.id_Med_punkt}\r\n          searchViewClick={props.searchViewClick}\r\n        />\r\n      )) :\r\n        <div className=\"list-view--empty\">\r\n          Таких элементов не найдено\r\n        </div> :\r\n        'loading 1'\r\n      }\r\n    </div>\r\n  )\r\n}","import {createContext} from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const MapContext = createContext({\r\n  mapState: null,\r\n  setMapState: noop\r\n})","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M484.14,226.886L306.46,49.202c-5.072-5.072-11.832-7.856-19.04-7.856c-7.216,0-13.972,2.788-19.044,7.856l-16.132,16.136 c-5.068,5.064-7.86,11.828-7.86,19.04c0,7.208,2.792,14.2,7.86,19.264L355.9,207.526H26.58C11.732,207.526,0,219.15,0,234.002 v22.812c0,14.852,11.732,27.648,26.58,27.648h330.496L252.248,388.926c-5.068,5.072-7.86,11.652-7.86,18.864 c0,7.204,2.792,13.88,7.86,18.948l16.132,16.084c5.072,5.072,11.828,7.836,19.044,7.836c7.208,0,13.968-2.8,19.04-7.872 l177.68-177.68c5.084-5.088,7.88-11.88,7.86-19.1C492.02,238.762,489.228,231.966,484.14,226.886z\"\n})));\n\nfunction SvgArrowBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"single-view__arrow--svg\",\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 492.004 492.004\",\n    style: {\n      enableBackground: \"new 0 0 492.004 492.004\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBack);\nexport default __webpack_public_path__ + \"static/media/arrow-back.3dbdea0b.svg\";\nexport { ForwardRef as ReactComponent };","import {useCallback, useState} from 'react'\r\n\r\nexport const useHttp = (callback, deps) => {\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n\r\n  const request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n\r\n    setLoading(true)\r\n\r\n    try {\r\n\r\n      if (body) {\r\n        body = JSON.stringify(body)\r\n        headers['Content-Type'] = 'application/json'\r\n      }\r\n\r\n      const response = await fetch(url, {method, body, headers})\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error('useHttp: ' + data.message || 'Что-то пошло не так')\r\n      }\r\n\r\n      setLoading(false)\r\n\r\n      return data\r\n\r\n    } catch (e) {\r\n      setLoading(false)\r\n      setError('useHttp catch: ' + e.message)\r\n      throw e\r\n    }\r\n  }, [])\r\n\r\n  const clearError = useCallback(() => setError(null), [])\r\n\r\n  return {loading, request, error, clearError}\r\n}","import React, {useCallback, useEffect, useState} from 'react'\nimport './Gallery.scss'\n\nimport {Carousel} from \"react-materialize\";\nimport {useHttp} from \"../hooks/http.hook\";\nexport const Gallery = (props) => {\n\n  const [state, setState] = useState({\n    data: [],\n    visible: false,\n    src: null\n  })\n\n  const {error, request, clearError} = useHttp()\n\n  useEffect(() => {\n    if (error) {\n      console.log('Ошибка: ' + error)\n    }\n    clearError()\n  }, [clearError, error])\n\n  const fetchData = useCallback(async (body) => {\n    try {\n      const fetched = await request('/api/map/single/photo', 'POST', body)\n\n      setState({\n        data: fetched\n      })\n\n    } catch (e) {}\n  }, [request])\n\n  useEffect(() => {\n    fetchData({\n      id: props.id\n    })\n  }, [fetchData])\n\n  const handleSlideImageClick = (e) => {\n    const { target } = e\n\n    setState({\n      ...state,\n      visible: !state.visible,\n      src: target.src\n    })\n  }\n\n  const handleGalleryViewClick = () => {\n    setState({\n      ...state,\n      visible: !state.visible,\n      src: null\n    })\n  }\n\n  return (\n    <div>\n      {\n        state.data.length > 0 &&\n        <div>\n          <Carousel\n            carouselId=\"Carousel-2\"\n            className=\"white-text center gallery\"\n            options={{\n              fullWidth: true,\n              shift: 0,\n              indicators: false,\n              padding: 10,\n            }}\n          >\n            {\n              state.data.map((el, i) => (\n                <div\n                  className=\"gallery__slide\"\n                  key={i}\n                >\n                  <img\n                    alt=\"Photo\"\n                    src={'../photo/' + el.name}\n                    onClick={handleSlideImageClick}\n                  />\n                </div>\n              ))\n            }\n\n\n          </Carousel>\n\n          {\n            state.visible ?\n              <div\n                className=\"gallery-view\"\n                onClick={handleGalleryViewClick}\n              >\n\n                <img\n                  src={state.src}\n                  alt=\"Photo\"\n                  className=\"gallery-view__img\"\n                />\n\n              </div> :\n              null\n          }\n\n        </div>\n      }\n    </div>\n\n  )\n}","import React, {useCallback, useEffect, useState} from 'react'\nimport './SingleView.scss'\nimport {ReactComponent as ArrowBack} from '../img/arrow-back.svg'\nimport getAddress from \"../functions/getAddress\";\nimport {useHttp} from \"../hooks/http.hook\";\nimport {Preloader} from \"react-materialize\";\nimport {Gallery} from \"./Gallery\";\n\n/*\n*   ToDO\n*    - Фикс скролла ненужного\n*\n* */\n\nexport const SingleView = (props) => {\n\n  const [state, setState] = useState({\n    el: null\n  })\n\n  const {loading, error, request, clearError} = useHttp()\n\n  useEffect(() => {\n    if (error) {\n      console.log('Ошибка: ' + error)\n    }\n    clearError()\n  }, [clearError, error])\n\n  const fetchData = useCallback(async (body) => {\n    try {\n      console.log('body', body)\n\n      const fetched = await request('/api/map/single', 'POST', body)\n\n      console.log('SingleView fetched', fetched)\n\n      setState({\n        el: fetched\n      })\n\n    } catch (e) {}\n  }, [request])\n\n  useEffect(() => {\n    fetchData({\n      id: props.id\n    })\n  }, [fetchData])\n\n  return (\n    <div className=\"single-view\">\n\n      {\n        loading ?\n          <div className=\"single-view__loader\">\n            <Preloader\n              active\n              color=\"blue\"\n              flashing={false}\n              size=\"small\"\n            />\n          </div> :\n          state.el && <div className=\"single-view__wrapper\">\n\n          <div className=\"single-view__info\">\n\n            <div className=\"single-view__block single-view__header\">\n\n              <div className=\"single-view__title\">\n\n                <button\n                  className=\"single-view__button single-view__button--back\"\n                  onClick={props.back}\n                >\n                  <ArrowBack />\n                </button>\n\n                {state.el.name_Med_punkt}\n              </div>\n\n              {\n                state.el.type_Med_punkt &&\n                <div className=\"single-view__type\">\n                  {state.el.type_Med_punkt}\n                </div>\n              }\n\n\n              <div className=\"single-view__schedule\">\n                {state.el.schedule || \"График работы не указан\"}\n              </div>\n\n            </div>\n\n            <div className=\"single-view__block\">\n\n              <div className=\"single-view__elem single-view__address\">\n\n                <div className=\"single-view__subtitle\">\n                  Адрес:\n                </div>\n\n                {getAddress(state.el) || \"Адрес не указан\"}\n              </div>\n\n              <div className=\"single-view__elem\">\n\n                <div className=\"single-view__subtitle\">\n                  Организация:\n                </div>\n\n                {state.el.parent}\n\n              </div>\n\n              <div className=\"single-view__elem\">\n\n                <div className=\"single-view__subtitle single-view__subtitle--inline\">\n                  Аптека:\n                </div>\n\n                {parseInt(state.el.Pharmacy) === 1 ? 'есть' : 'отстуствует'}\n\n              </div>\n\n              <div className=\"single-view__elem\">\n\n                <div className=\"single-view__subtitle single-view__subtitle--inline\">\n                  Первая помощь:\n                </div>\n\n                {parseInt(state.el.Access_to_primary_health_care) === 1 ? 'есть' : 'отстуствует'}\n\n              </div>\n\n              <div className=\"single-view__elem\">\n\n                <div className=\"single-view__subtitle single-view__subtitle--inline\">\n                  Экстренная помощь:\n                </div>\n\n                {parseInt(state.el.Availability_of_emergency_mediical_care) === 1 ? 'есть' : 'отстуствует'}\n\n              </div>\n\n              <div className=\"single-view__elem\">\n\n                <div className=\"single-view__subtitle single-view__subtitle--inline\">\n                  Укомплектованность фельдшерами:\n                </div>\n\n                {state.el.staff || 0}\n\n              </div>\n\n              <div className=\"single-view__elem\">\n\n                <div className=\"single-view__subtitle single-view__subtitle--inline\">\n                  Год основания:\n                </div>\n\n                {state.el.Founding_year || 'неизвестно'}\n\n              </div>\n\n            </div>\n\n            <Gallery\n              photo={state.el.photo}\n              id={state.el.id_Med_punkt}\n            />\n\n          </div>\n\n\n        </div>\n      }\n\n\n\n    </div>\n  )\n}","export default __webpack_public_path__ + \"static/media/magnifier.28b0ad10.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m420.404 0h-328.808c-50.506 0-91.596 41.09-91.596 91.596v328.809c0 50.505 41.09 91.595 91.596 91.595h328.809c50.505 0 91.595-41.09 91.595-91.596v-328.808c0-50.506-41.09-91.596-91.596-91.596zm61.596 420.404c0 33.964-27.632 61.596-61.596 61.596h-328.808c-33.964 0-61.596-27.632-61.596-61.596v-328.808c0-33.964 27.632-61.596 61.596-61.596h328.809c33.963 0 61.595 27.632 61.595 61.596z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m432.733 112.467h-228.461c-6.281-18.655-23.926-32.133-44.672-32.133s-38.391 13.478-44.672 32.133h-35.661c-8.284 0-15 6.716-15 15s6.716 15 15 15h35.662c6.281 18.655 23.926 32.133 44.672 32.133s38.391-13.478 44.672-32.133h228.461c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-273.133 32.133c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.686 17.133 17.133-7.686 17.133-17.133 17.133z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m432.733 241h-35.662c-6.281-18.655-23.927-32.133-44.672-32.133s-38.39 13.478-44.671 32.133h-228.461c-8.284 0-15 6.716-15 15s6.716 15 15 15h228.461c6.281 18.655 23.927 32.133 44.672 32.133s38.391-13.478 44.672-32.133h35.662c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-80.333 32.133c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.686 17.133 17.133-7.686 17.133-17.133 17.133z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m432.733 369.533h-164.194c-6.281-18.655-23.926-32.133-44.672-32.133s-38.391 13.478-44.672 32.133h-99.928c-8.284 0-15 6.716-15 15s6.716 15 15 15h99.928c6.281 18.655 23.926 32.133 44.672 32.133s38.391-13.478 44.672-32.133h164.195c8.284 0 15-6.716 15-15s-6.716-15-15.001-15zm-208.866 32.134c-9.447 0-17.133-7.686-17.133-17.133s7.686-17.133 17.133-17.133 17.133 7.685 17.133 17.132-7.686 17.134-17.133 17.134z\"\n}));\n\nfunction SvgFilter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"filter_icon\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFilter);\nexport default __webpack_public_path__ + \"static/media/filter.bd5ce25a.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useCallback, useEffect, useState} from 'react'\r\nimport './SearchFilter.scss'\r\nimport {TextInput, Checkbox, CardPanel} from \"react-materialize\"\r\nimport {useHttp} from \"../hooks/http.hook\"\r\n\r\nexport const SearchFilter = (props) => {\r\n  const {loading, error, request, clearError} = useHttp()\r\n\r\n  const [filters, setFilters] = useState({\r\n    'pharmacy': null,\r\n    'firstAid': null,\r\n    'emergencyAssistance': null,\r\n    'staffing': null,\r\n    'foundationYearFrom': null,\r\n    'foundationYearTo': null,\r\n  })\r\n\r\n  const handleCheckBoxFilterClick = (e) => {\r\n    const { target } = e\r\n    const { value, checked } = target\r\n\r\n    setFilters({\r\n      ...filters,\r\n      [value]: checked ? true : null\r\n    })\r\n\r\n  }\r\n\r\n  const handleTextareaBlur = (e) => {\r\n    const { target } = e\r\n    const { name, value } = target\r\n\r\n    setFilters({\r\n      ...filters,\r\n      [name]: !isNaN(parseInt(value)) ? parseInt(value) : null\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      console.log('Ошибка: ' + error)\r\n    }\r\n    clearError()\r\n  }, [clearError, error])\r\n\r\n  const fetchData = useCallback(async (body) => {\r\n    try {\r\n      const fetched = await request('/api/map/filter', 'POST', body)\r\n\r\n      props.updateData(fetched.data, true)\r\n\r\n    } catch (e) {}\r\n  }, [request])\r\n\r\n  useEffect(() => {\r\n    fetchData(filters)\r\n  }, [filters])\r\n\r\n  return (\r\n\r\n    <CardPanel className={'search-filter white ' + props.className  + ' ' + (props.visible ? 'search-filter--visible' : 'search-filter--hidden')}>\r\n      <div className=\"search-filter__wrapper\">\r\n\r\n        <h4 className=\"search-filter__title\">Фильтры:</h4>\r\n\r\n        <div className=\"search-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            className=\"search-filter__checkbox\"\r\n            id=\"search-filter__pharmacy\"\r\n            label=\"Аптека\"\r\n            value=\"pharmacy\"\r\n            onClick={handleCheckBoxFilterClick}\r\n          />\r\n        </div>\r\n\r\n        <input type=\"checkbox\" className=\"search-filter__checkbox\"/>\r\n\r\n        <div className=\"search-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            className=\"search-filter__checkbox\"\r\n            id=\"search-filter__first-aid\"\r\n            label=\"Первая помощь\"\r\n            value=\"firstAid\"\r\n            checked={false}\r\n            onClick={handleCheckBoxFilterClick}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"search-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            className=\"search-filter__checkbox\"\r\n            id=\"search-filter__emergency-assistance\"\r\n            label=\"Экстренная помощь\"\r\n            value=\"emergencyAssistance\"\r\n            onClick={handleCheckBoxFilterClick}\r\n          />\r\n        </div>\r\n\r\n        {/*<div className=\"search-filter__block\">\r\n          <Checkbox\r\n            filledIn\r\n            className\"search-filter__checkbox\r\n            id=\"search-filter__staffing\"\r\n            label=\"Укомплектованность фельдшерами\"\r\n            value=\"staffing\"\r\n            onClick={handleCheckBoxFilterClick}\r\n          />\r\n        </div>*/}\r\n\r\n        <div className=\"search-filter__block\">\r\n          <TextInput\r\n            id=\"search-filter__year-foundation-from\"\r\n            name=\"foundationYearFrom\"\r\n            className=\"search-filter__textarea\"\r\n            type=\"number\"\r\n            label=\"Год основания (от)\"\r\n            onBlur={handleTextareaBlur}\r\n          />\r\n\r\n          <TextInput\r\n            id=\"search-filter__year-foundation-to\"\r\n            type=\"number\"\r\n            className=\"search-filter__textarea\"\r\n            name=\"foundationYearTo\"\r\n            label=\"Год основания (до)\"\r\n            onBlur={handleTextareaBlur}\r\n          />\r\n        </div>\r\n\r\n      </div>\r\n    </CardPanel>\r\n  )\r\n}","import React from 'react'\r\nimport './ListView.scss'\r\nimport {CardPanel, TextInput} from \"react-materialize\";\r\nimport magnifer from \"../img/magnifier.svg\";\r\nimport {ReactComponent as Filter} from \"../img/filter.svg\";\r\nimport {SearchFilter} from \"./SearchFilter\"\r\nimport './Search.scss'\r\n\r\nexport const Search = (props) => {\r\n\r\n  return (\r\n    <CardPanel className={ props.scroll ? \"sidebar__header\" : \"sidebar__header sidebar__header--fixed\"}>\r\n\r\n      <div className=\"sidebar__search\">\r\n\r\n        <TextInput\r\n          id=\"sidebar-input\"\r\n          inputClassName=\"sidebar__text-input\"\r\n          placeholder=\"Поиск\"\r\n          xl\r\n          onChange={props.handleInput}\r\n        />\r\n\r\n      </div>\r\n\r\n      <div className=\"sidebar__controls\">\r\n\r\n        <button\r\n          className=\"sidebar__button sidebar__button--search\"\r\n        >\r\n          <img src={magnifer} alt=\"Поиск\"/>\r\n        </button>\r\n\r\n        <button\r\n          className=\"sidebar__button sidebar__button--filter\"\r\n          onClick={props.handleFilter}\r\n        >\r\n          <Filter />\r\n        </button>\r\n      </div>\r\n\r\n      <SearchFilter\r\n        updateData={props.updateData}\r\n        visible={props.filterShow}\r\n      />\r\n\r\n    </CardPanel>\r\n  )\r\n}","import React from 'react'\r\nimport './Scrollbar.scss'\r\n\r\n/*\r\n*   ToDo\r\n*    - Передвигаемый слайдер\r\n*    - Убирается если окно не скролится\r\n*\r\n* */\r\n\r\nexport const Scrollbar = (props) => {\r\n\r\n  let startDrag = 0\r\n\r\n  const documentMouseMoveListener = (event, el) => {\r\n    const offset = event.pageY\r\n    el.style.top = offset + 'px'\r\n  }\r\n\r\n  const handleSliderDragEnd = (e) => {\r\n    document.removeEventListener('mousemove', documentMouseMoveListener(e, e.target), false)\r\n  }\r\n\r\n  const handleSliderDragStart = (e) => {\r\n    const el = e.target\r\n\r\n    document.addEventListener('mousemove', documentMouseMoveListener(e, el), false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"scrollbar\">\r\n      <div className=\"scrollbar__slider\"\r\n        onDragStart={(e) => handleSliderDragStart(e)}\r\n        onDragEnd={(e) => handleSliderDragEnd(e)}\r\n      />\r\n    </div>\r\n  )\r\n}","import React, {useContext, useEffect, useState} from 'react'\r\nimport {ListView} from './ListView'\r\nimport './Sidebar.scss'\r\nimport {MapContext} from \"../context/MapContext\"\r\nimport {SingleView} from \"./SingleView\"\r\nimport {Search} from \"./Search\"\r\nimport {Scrollbar} from \"./Scrollbar\"\r\nimport {Preloader} from \"react-materialize\";\r\n\r\nexport const Sidebar = (props) => {\r\n  let panelScrollRef = React.createRef()\r\n\r\n  const [state, setState] = useState({\r\n    scroll: false,\r\n    search: null,\r\n    filter: {\r\n      show: false\r\n    }\r\n  })\r\n\r\n  const {mapState, setMapState} = useContext(MapContext)\r\n\r\n  const searchViewClick = (e, id) => {\r\n    const elActive = props.data.default.find(el => el.active === true)\r\n\r\n    if (elActive)\r\n      elActive.active = false\r\n\r\n    const el = props.data.default.find(el => el.id_Med_punkt === id)\r\n    el.active = true\r\n\r\n    setMapState({...mapState, 'center': [el.latitude, el.longitude]})\r\n    props.setSingleView({\r\n      flag: true,\r\n      id: el.id_Med_punkt\r\n    })\r\n  }\r\n\r\n  const handleFilterButton = () => {\r\n    setState({...state, 'filter': {\r\n        ...state.filter,\r\n        show: !state.filter.show\r\n      }})\r\n  }\r\n\r\n  const HandleInputSearch = (e) => {\r\n    setState({...state, 'search': e.target.value.trim().toLowerCase()})\r\n  }\r\n\r\n  const scrollInit = (elem, scrollbar) => {\r\n    const scrollHeight = elem.scrollHeight\r\n    const viewHeight = elem.offsetHeight\r\n\r\n    let scrollbarSliderHeight = viewHeight * viewHeight / scrollHeight\r\n\r\n    if (scrollbarSliderHeight === scrollHeight) {\r\n      scrollbar.style.display = 'none'\r\n    } else {\r\n      scrollbar.style.display = 'block'\r\n    }\r\n\r\n    scrollbar.querySelector('.scrollbar__slider').style.height = scrollbarSliderHeight + 'px';\r\n  }\r\n\r\n  const handlePanelScroll = () => {\r\n    const scrollTop = panelScrollRef.current.scrollTop\r\n\r\n    if (scrollTop > 50) {\r\n      setState({...state, 'scroll': true})\r\n    } else {\r\n      setState({...state, 'scroll': false})\r\n    }\r\n\r\n    const scrollbar = document.querySelector('.scrollbar');\r\n    const scrollbarSlider = scrollbar.querySelector('.scrollbar__slider')\r\n    const scrollPanel = document.querySelector('.sidebar__panel');\r\n\r\n    let scrollToTop = scrollPanel.scrollTop / scrollPanel.scrollHeight\r\n\r\n    scrollbarSlider.style.top = scrollToTop * scrollPanel.offsetHeight + 'px'\r\n  }\r\n\r\n  useEffect(() => {\r\n    const scrollElem = document.querySelector('.sidebar__panel')\r\n    const scrollbar = document.querySelector('.scrollbar')\r\n\r\n    scrollInit(scrollElem, scrollbar)\r\n  }, [props.singleView, props.data])\r\n\r\n  window.addEventListener(`resize`, (e) => {\r\n    const scrollElem = document.querySelector('.sidebar__panel')\r\n    const scrollbar = document.querySelector('.scrollbar')\r\n\r\n    scrollInit(scrollElem, scrollbar)\r\n  }, false);\r\n\r\n  const handleBack = () => {\r\n    const el = props.data.default.find(el => el.active === true)\r\n    el.active = false\r\n\r\n    props.setSingleView({\r\n      flag: false,\r\n      id: null\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    props.updateData(props.data.default.filter((obj) => {\r\n      return obj.name_Med_punkt.toLowerCase().indexOf(state.search) !== -1;\r\n    }))\r\n  }, [state.search])\r\n\r\n  const handleToggleButton = (e) => {\r\n    e.target.classList.toggle('sidebar__toggle-button--active')\r\n\r\n    const sidebar = e.target.closest('.sidebar')\r\n\r\n    sidebar.classList.toggle('sidebar--hidden')\r\n  }\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n\r\n      <button\r\n        className=\"sidebar__toggle-button sidebar__toggle-button--a\"\r\n        onClick={handleToggleButton}\r\n      >\r\n      </button>\r\n\r\n      <div className=\"sidebar__wrapper\">\r\n\r\n        <Search\r\n          filterShow={state.filter.show}\r\n          scroll={state.scroll}\r\n          handleInput={HandleInputSearch}\r\n          handleFilter={handleFilterButton}\r\n          updateData={props.updateData}\r\n        />\r\n\r\n        <div\r\n          className=\"sidebar__panel\"\r\n          ref={panelScrollRef}\r\n          onScroll={handlePanelScroll}\r\n        >\r\n          {\r\n            props.loading ?\r\n              <div className=\"sidebar__loader\">\r\n                <Preloader\r\n                  active\r\n                  color=\"blue\"\r\n                  flashing={false}\r\n                  size=\"small\"\r\n                />\r\n              </div> :\r\n              props.singleView.flag ? <SingleView id={props.data.default.find(el => el.id_Med_punkt === props.singleView.id).id_Med_punkt} back={(e) => handleBack(e)}/> : <ListView loading={props.loading} list={props.data.modified} searchViewClick={searchViewClick}/>\r\n          }\r\n\r\n          <Scrollbar />\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}","import React, {useContext} from 'react'\r\nimport './Maps.scss'\r\nimport { YMaps, Map, Clusterer, Placemark } from \"react-yandex-maps\"\r\nimport {MapContext} from \"../context/MapContext\";\r\n\r\nexport const Maps = (props) => {\r\n  const {mapState, setMapState} = useContext(MapContext)\r\n\r\n  function createZoomControlLayout(ymaps) {\r\n    // https://tech.yandex.com/maps/jsbox/2.1/zoom_layout\r\n    const ZoomLayout = ymaps.templateLayoutFactory.createClass(\"<div id='zoom-in' class='btn'><i class='icon-plus'>1</i></div><br>\")\r\n\r\n    return ZoomLayout\r\n  }\r\n\r\n  const handleApiAvailable = ymaps => {\r\n    console.log(ymaps)\r\n    const layout = createZoomControlLayout(ymaps)\r\n    this.setState({ layout })\r\n  };\r\n\r\n  const getPointData = () => {\r\n    return {\r\n      clusterCaption: \"placemark <strong>\" + \"</strong>\"\r\n    };\r\n  };\r\n\r\n  const getPointOptions = (el) => {\r\n    return {\r\n      preset: 'islands#violetIcon',\r\n      iconColor: el.active === true ? '#e20101' : '#26a69a'\r\n    };\r\n  };\r\n\r\n  const handlePlacemarkClick = (e, id) => {\r\n    const elActive = props.data.default.find(el => el.active === true)\r\n\r\n    if (elActive)\r\n      elActive.active = false\r\n\r\n    const el = props.data.default.find(el => el.id_Med_punkt === id)\r\n    el.active = true\r\n\r\n    setMapState({...mapState, 'center': [el.latitude, el.longitude]})\r\n    props.setSingleView({\r\n      flag: true,\r\n      id: el.id_Med_punkt\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"map\">\r\n\r\n      <YMaps\r\n        onApiAvaliable={ymaps => handleApiAvailable(ymaps)}\r\n      >\r\n        <Map\r\n          state={mapState}\r\n          className=\"y-map\"\r\n          instanceRef={mapState}\r\n          //onLoad={ymaps => (map = ymaps)}\r\n        >\r\n          <Clusterer\r\n            options={{\r\n              preset: 'islands#darkGreenClusterIcons',\r\n              groupByCoordinates: false,\r\n              clusterDisableClickZoom: false,\r\n              clusterHideIconOnBalloonOpen: false,\r\n              geoObjectHideIconOnBalloonOpen: false,\r\n              iconColor: '#26a69a'\r\n            }}\r\n          >\r\n            {props.data && props.data.modified.length > 0 ? props.data.modified.map((el, i) => (\r\n              <Placemark\r\n                key={i}\r\n                geometry={[el.latitude, el.longitude]}\r\n                properties={getPointData(el)}\r\n                options={getPointOptions(el)}\r\n                modules={['geoObject.addon.balloon', 'geoObject.addon.hint']}\r\n                onClick={e => handlePlacemarkClick(e, el.id_Med_punkt)}\r\n              />\r\n            )) : null}\r\n          </Clusterer>\r\n\r\n        </Map>\r\n\r\n      </YMaps>\r\n\r\n    </div>\r\n  )\r\n}","import React, {useCallback, useEffect} from 'react'\r\nimport './ReportView.scss'\r\nimport {ProgressBar, Table, Modal, Button, Preloader} from \"react-materialize\"\r\nimport {useArrayBuffer} from \"../hooks/useArrayBuffer.hook\";\r\n\r\nexport const ReportView = (props) => {\r\n\r\n  const {loading, error, request, clearError} = useArrayBuffer()\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      console.log('Ошибка: ' + error)\r\n    }\r\n    clearError()\r\n  }, [clearError, error])\r\n\r\n  const fetchData = useCallback(async (body) => {\r\n    try {\r\n      const fetched = await request('/api/reports/pdf', 'POST', body)\r\n\r\n      const a = window.document.createElement(\"a\");\r\n      a.href = fetched\r\n      a.download = `report.${new Date().toLocaleDateString()}.pdf`\r\n      document.body.appendChild(a)\r\n      a.click()\r\n      document.body.removeChild(a)\r\n    } catch (e) {}\r\n  })\r\n\r\n  const handlePdfSaveClick = (e) => {\r\n    fetchData(props.data)\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      actions={[\r\n        <Button\r\n          node=\"button\"\r\n          waves=\"light\"\r\n          className=\"report-view__button--footer\"\r\n        >\r\n          Сохранить в DOCX\r\n        </Button>,\r\n        <Button\r\n          node=\"button\"\r\n          waves=\"light\"\r\n          className=\"report-view__button--footer\"\r\n          onClick={handlePdfSaveClick}\r\n        >\r\n          Сохранить в PDF\r\n        </Button>,\r\n        <Button\r\n          modal=\"close\"\r\n          node=\"button\"\r\n          waves=\"light\"\r\n          className=\"red darken-3 report-view__button--footer\"\r\n        >\r\n          Закрыть\r\n        </Button>\r\n      ]}\r\n      bottomSheet={false}\r\n      fixedFooter\r\n      id=\"report-modal\"\r\n      className=\"report-view__modal\"\r\n      open={false}\r\n      options={{\r\n        dismissible: true,\r\n        endingTop: '10%',\r\n        inDuration: 250,\r\n        onCloseEnd: null,\r\n        onCloseStart: null,\r\n        onOpenEnd: null,\r\n        onOpenStart: null,\r\n        opacity: 0.5,\r\n        outDuration: 250,\r\n        preventScrolling: true,\r\n        startingTop: '4%'\r\n      }}\r\n    >\r\n\r\n      <div>\r\n        <h2 className=\"report-view__title\">{props.data && props.data.title ? props.data.title : 'Отчет'}</h2>\r\n      </div>\r\n\r\n      <div className=\"report-view__wrapper\">\r\n\r\n        { props.loading ? <ProgressBar /> :\r\n\r\n          props.data.objects.length === 0 ? 'Элементов по данному запросов не найдено, пожалуйста, измените критерии поиска' :\r\n\r\n            <Table>\r\n              <thead>\r\n              <tr>\r\n                {props.data && props.data.headers.map((obj, i) => (\r\n                  <th\r\n                    key={i}\r\n                  >\r\n                    {obj}\r\n                  </th>\r\n                ))}\r\n\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              {props.data && props.data.objects.map((obj, i) => (\r\n                <tr\r\n                  key={i}\r\n                >\r\n                  {Object.keys(obj).map((el, j) => (\r\n                    <td\r\n                      key={j}\r\n                      data-label={props.data.headers[j]}\r\n                    >\r\n                      {\r\n                        obj[el] == null ? 'Отстуствует' :\r\n                          obj[el] === 1 ? 'Есть' :\r\n                            obj[el] === 0 ? 'Нет' :\r\n                              obj[el]\r\n                      }\r\n                    </td>\r\n                  ))}\r\n\r\n                </tr>\r\n              ))}\r\n              </tbody>\r\n            </Table>\r\n\r\n        }\r\n\r\n      </div>\r\n\r\n      {\r\n        loading &&\r\n        <div className=\"report-view__loader\">\r\n          <Preloader\r\n            active\r\n            color=\"blue\"\r\n            flashing={false}\r\n            size=\"big\"\r\n          />\r\n          <div className=\"report-view__loader-message\">Отчет формируется ...</div>\r\n        </div>\r\n      }\r\n\r\n    </Modal>\r\n  )\r\n}","import {useCallback, useState} from 'react'\r\n\r\nexport const useArrayBuffer = (callback, deps) => {\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n\r\n  const request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n\r\n    setLoading(true)\r\n\r\n    try {\r\n\r\n      if (body) {\r\n        body = JSON.stringify(body)\r\n        headers['Content-Type'] = 'application/json'\r\n      }\r\n\r\n      const response = await fetch(url, {method, body, headers})\r\n\r\n      const data = await response.arrayBuffer().then((buffer) => {\r\n          let binary = '';\r\n          const bytes = new Uint8Array( buffer );\r\n          const len = bytes.byteLength;\r\n          for (let i = 0; i < len; i++) {\r\n            binary += String.fromCharCode( bytes[ i ] );\r\n          }\r\n\r\n          return 'data:application/octet-stream;base64,' + binary\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('useArrayBuffer: ' + data.message || 'Что-то пошло не так')\r\n      }\r\n\r\n      setLoading(false)\r\n\r\n      return data\r\n\r\n    } catch (e) {\r\n      setLoading(false)\r\n      setError('useArrayBuffer catch: ' + e.message)\r\n      throw e\r\n    }\r\n  }, [])\r\n\r\n  const clearError = useCallback(() => setError(null), [])\r\n\r\n  return {loading, request, error, clearError}\r\n}","import React from 'react'\r\nimport './ReportPanel.scss'\r\nimport {Select, Button, Checkbox, TextInput} from \"react-materialize\"\r\n\r\nexport const ReportBuilder= (props) => {\r\n\r\n  const handleTextareaBlur = (e) => {\r\n    const { target } = e\r\n    const { value, name } = target\r\n\r\n    props.setParams({\r\n      ...props.params,\r\n      [name]: !isNaN(parseInt(value)) ? parseInt(value) : null\r\n    })\r\n  }\r\n\r\n  const handleReportParamClick = (e) => {\r\n    const { target } = e\r\n    const { value, checked } = target\r\n    const { conditions } = props.params\r\n\r\n    if (checked) {\r\n\r\n      if (!conditions.includes(value)) {\r\n        conditions.push(value)\r\n\r\n        props.setParams({\r\n          ...props.params,\r\n          conditions\r\n        })\r\n      }\r\n    } else {\r\n      const index = conditions.indexOf(value)\r\n\r\n      if (index > -1) {\r\n        conditions.splice(index, 1)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleCheckBoxClick = (e) => {\r\n    const { target } = e\r\n    const { name, checked } = target\r\n    const { columns } = props.params\r\n\r\n    if (checked) {\r\n\r\n      if (!columns.includes(name)) {\r\n        columns.push(name)\r\n\r\n        props.setParams({\r\n          ...props.params,\r\n          columns\r\n        })\r\n      }\r\n    } else {\r\n      const index = columns.indexOf(name)\r\n\r\n      if (index > -1) {\r\n        columns.splice(index, 1)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n      <div className=\"report-builder report-panel__builder\">\r\n\r\n        <div className=\"report-panel__wrapper\">\r\n\r\n          <h4 className=\"report-panel__subtitle\">\r\n            Фильтры:\r\n          </h4>\r\n\r\n          <Select\r\n            id=\"report-area\"\r\n            className=\"report-panel__select\"\r\n            multiple={false}\r\n            onChange={\r\n              e => props.setParams({\r\n                ...props.params,\r\n                'area': e.target.value\r\n              })\r\n            }\r\n            options={{\r\n              classes: '',\r\n              dropdownOptions: {\r\n                alignment: 'left',\r\n                autoTrigger: true,\r\n                closeOnClick: true,\r\n                constrainWidth: true,\r\n                coverTrigger: true,\r\n                hover: false,\r\n                inDuration: 150,\r\n                onCloseEnd: null,\r\n                onCloseStart: null,\r\n                onOpenEnd: null,\r\n                onOpenStart: null,\r\n                outDuration: 250\r\n              }\r\n            }}\r\n            value=\"\"\r\n          >\r\n            <option\r\n              disabled\r\n              value=\"\"\r\n            >\r\n              Выберите район\r\n            </option>\r\n            {\r\n              props.area.map((el, i) => (\r\n                <option\r\n                  key={i}\r\n                  value={el.idrayon}\r\n                >\r\n                  {el.name_rayon}\r\n                </option>\r\n              ))\r\n            }\r\n          </Select>\r\n\r\n         <div className=\"report-panel__container\">\r\n\r\n           <div className=\"report-panel__block report-panel__block--half\">\r\n             <Checkbox\r\n               filledIn\r\n               onClick={handleReportParamClick}\r\n               id=\"report-panel__pharmacy\"\r\n               label=\"Аптека\"\r\n               value=\"pharmacy\"\r\n             />\r\n           </div>\r\n\r\n           <div className=\"report-panel__block report-panel__block--half\">\r\n             <Checkbox\r\n               filledIn\r\n               onClick={handleReportParamClick}\r\n               id=\"report-panel__first-aid\"\r\n               label=\"Первая помощь\"\r\n               value=\"first-aid\"\r\n             />\r\n           </div>\r\n\r\n           <div className=\"report-panel__block report-panel__block--half\">\r\n             <Checkbox\r\n               filledIn\r\n               onClick={handleReportParamClick}\r\n               id=\"report-panel__emergency-assistance\"\r\n               label=\"Экстренная помощь\"\r\n               value=\"emergency-assistance\"\r\n             />\r\n           </div>\r\n\r\n           <div className=\"report-panel__block report-panel__block--half\">\r\n             <Checkbox\r\n               filledIn\r\n               onClick={handleReportParamClick}\r\n               id=\"report-panel__staffing\"\r\n               label=\"Укомплектованность фельдшерами\"\r\n               value=\"staffing\"\r\n             />\r\n           </div>\r\n\r\n         </div>\r\n\r\n          <div className=\"report-panel__block flex flex--between report-panel__block--mobile-width\">\r\n            <div className=\"report-panel__block--half report-panel__block--wrap\">\r\n              <TextInput\r\n                id=\"report-panel__year-foundation-from\"\r\n                type=\"number\"\r\n                onBlur={handleTextareaBlur}\r\n                name=\"foundationYearFrom\"\r\n                label=\"Год основания (от)\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"report-panel__block--half report-panel__block--wrap\">\r\n              <TextInput\r\n                id=\"report-panel__year-foundation-to\"\r\n                type=\"number\"\r\n                onBlur={handleTextareaBlur}\r\n                name=\"foundationYearTo\"\r\n                label=\"Год основания (до)\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"report-panel__wrapper\">\r\n\r\n          <h4 className=\"report-panel__subtitle\">\r\n            Поля:\r\n          </h4>\r\n\r\n          <div className=\"report-panel__container\">\r\n\r\n            <div className=\"report-panel__block report-panel__block--half\">\r\n              <Checkbox\r\n                filledIn\r\n                id=\"report-columns-name\"\r\n                className=\"report-columns\"\r\n                onClick={handleCheckBoxClick}\r\n                label=\"Название\"\r\n                name=\"name\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"report-panel__block report-panel__block--half\">\r\n              <Checkbox\r\n                filledIn\r\n                id=\"report-columns-address\"\r\n                className=\"report-columns\"\r\n                onClick={handleCheckBoxClick}\r\n                label=\"Адрес\"\r\n                name=\"address\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"report-panel__block report-panel__block--half\">\r\n              <Checkbox\r\n                filledIn\r\n                id=\"report-columns-type\"\r\n                className=\"report-columns\"\r\n                onClick={handleCheckBoxClick}\r\n                label=\"Тип\"\r\n                name=\"type\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"report-panel__block report-panel__block--half\">\r\n              <Checkbox\r\n                filledIn\r\n                id=\"report-columns-phone\"\r\n                className=\"report-columns\"\r\n                onClick={handleCheckBoxClick}\r\n                label=\"Телефон\"\r\n                name=\"phone\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"report-panel__block report-panel__block--half\">\r\n              <Checkbox\r\n                filledIn\r\n                id=\"report-columns-pharmacy\"\r\n                className=\"report-columns\"\r\n                onClick={handleCheckBoxClick}\r\n                label=\"Аптека\"\r\n                name=\"pharmacy\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"report-panel__block report-panel__block--half\">\r\n              <Checkbox\r\n                filledIn\r\n                id=\"report-columns-emergency-assistance\"\r\n                className=\"report-columns\"\r\n                onClick={handleCheckBoxClick}\r\n                label=\"Экстренная помощь\"\r\n                name=\"emergencyAssistance\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"report-panel__block report-panel__block--half\">\r\n              <Checkbox\r\n                filledIn\r\n                id=\"report-columns-emergency-first-aid\"\r\n                className=\"report-columns\"\r\n                onClick={handleCheckBoxClick}\r\n                label=\"Первая помощь\"\r\n                name=\"firstAid\"\r\n              />\r\n            </div>\r\n\r\n\r\n            <div className=\"report-panel__block report-panel__block--half\">\r\n              <Checkbox\r\n                filledIn\r\n                id=\"report-columns-emergency-founding-year\"\r\n                className=\"report-columns\"\r\n                onClick={handleCheckBoxClick}\r\n                label=\"Год основания\"\r\n                name=\"foundingYear\"\r\n              />\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"report-panel__controls\">\r\n\r\n        <Button\r\n          node=\"button\"\r\n          waves=\"light\"\r\n          className=\"modal-trigger report-panel__control\"\r\n          href=\"#report-modal\"\r\n          onClick={props.handleReportButton}\r\n        >\r\n          Сформировать отчет\r\n        </Button>\r\n\r\n        <Button\r\n          node=\"button\"\r\n          waves=\"light\"\r\n          className=\"red darken-3 report-panel__control report-panel__button--close\"\r\n          onClick={props.closeModal}\r\n        >\r\n          Закрыть\r\n        </Button>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}","import React, {useCallback, useEffect, useState} from 'react'\r\nimport './ReportPanel.scss'\r\nimport {CollapsibleItem, Collapsible, Button, Select} from \"react-materialize\"\r\nimport {useHttp} from \"../hooks/http.hook\"\r\nimport {ReportView} from \"./ReportView\"\r\nimport {ReportBuilder} from \"./ReportBuilder\"\r\n\r\nexport const ReportPanel = (props) => {\r\n\r\n  const [state, setState] = useState({\r\n    columns: [],\r\n    conditions: []\r\n  })\r\n  const [data, setData] = useState({\r\n    headers: [],\r\n    objects: []\r\n  })\r\n\r\n  const {loading, error, request, clearError} = useHttp()\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      console.log('Ошибка: ' + error)\r\n    }\r\n    clearError()\r\n  }, [clearError, error])\r\n\r\n  const fetchData = useCallback(async (body) => {\r\n    try {\r\n\r\n      const fetched = await request('/api/reports', 'POST', body)\r\n\r\n      console.log(fetched)\r\n\r\n      setData(fetched)\r\n\r\n    } catch (e) {}\r\n  }, [request])\r\n\r\n  const handleReportButton = e => {\r\n    setData({\r\n      ...state,\r\n      objects: []\r\n    })\r\n\r\n    fetchData(state)\r\n  }\r\n\r\n  const handlePreparedReportsButton = (e) => {\r\n    const { target } = e\r\n\r\n    setData({\r\n      ...state,\r\n      objects: []\r\n    })\r\n\r\n    fetchData({\r\n      ...state,\r\n      area: state.areaPrepared,\r\n      title: target.getAttribute('data-title'),\r\n      columns: target.getAttribute('columns') ?  target.getAttribute('columns').split(',') : []\r\n    })\r\n\r\n    //clearState()\r\n  }\r\n\r\n  const clearState = () => {\r\n    setState({\r\n      columns: [],\r\n      conditions: []\r\n    })\r\n    /*\r\n    * ToDo\r\n    *  - очистка полей формы\r\n    * */\r\n  }\r\n\r\n  return (\r\n    <div className=\"report-panel shadow\">\r\n\r\n      <div className=\"report-panel__wrapper\">\r\n\r\n        <Collapsible\r\n          className=\"report-panel__collapsible\"\r\n          accordion\r\n        >\r\n          <CollapsibleItem\r\n            expanded={false}\r\n            header=\"Заготовленные отчеты\"\r\n            node=\"div\"\r\n            className=\"report-panel__collapsible-item report-panel__collapsible-item--prepared\"\r\n          >\r\n\r\n            <div className=\"report-panel__wrapper\">\r\n\r\n              <Select\r\n                id=\"report-area\"\r\n                className=\"report-panel__select\"\r\n                multiple={false}\r\n                onChange={\r\n                  e => setState({\r\n                    ...state,\r\n                    'areaPrepared': e.target.value\r\n                  })\r\n                }\r\n                options={{\r\n                  classes: '',\r\n                  dropdownOptions: {\r\n                    alignment: 'left',\r\n                    autoTrigger: true,\r\n                    closeOnClick: true,\r\n                    constrainWidth: true,\r\n                    coverTrigger: true,\r\n                    hover: false,\r\n                    inDuration: 150,\r\n                    onCloseEnd: null,\r\n                    onCloseStart: null,\r\n                    onOpenEnd: null,\r\n                    onOpenStart: null,\r\n                    outDuration: 250\r\n                  }\r\n                }}\r\n                value=\"\"\r\n              >\r\n                <option\r\n                  disabled\r\n                  value=\"\"\r\n                >\r\n                  Выберите район\r\n                </option>\r\n                {\r\n                  props.area.map((el, i) => (\r\n                    <option\r\n                      key={i}\r\n                      value={el.idrayon}\r\n                    >\r\n                      {el.name_rayon}\r\n                    </option>\r\n                  ))\r\n                }\r\n              </Select>\r\n\r\n              <Button\r\n                node=\"button\"\r\n                waves=\"light\"\r\n                className=\"report-panel__button modal-trigger\"\r\n                onClick={handlePreparedReportsButton}\r\n                columns={[\r\n                  'name',\r\n                  'phone'\r\n                ]}\r\n                href=\"#report-modal\"\r\n                data-title=\"Отчет об укомплектованности мед. работниками\"\r\n              >\r\n                Отчет об укомплектованности мед. работниками\r\n              </Button>\r\n\r\n              <Button\r\n                node=\"button\"\r\n                waves=\"light\"\r\n                columns={[\r\n                  'name',\r\n                  'locality',\r\n                  'address',\r\n                  'phone',\r\n                  'foundingYear',\r\n                  'firstAid',\r\n                  'emergencyAssistance'\r\n                ]}\r\n                className=\"report-panel__button modal-trigger\"\r\n                onClick={handlePreparedReportsButton}\r\n                href=\"#report-modal\"\r\n                data-title=\"Отчет о мед. пунктах с возможностью оказания медицинской помощи\"\r\n              >\r\n                Отчет о мед. пунктах с возможностью оказания мед. помощи\r\n              </Button>\r\n\r\n              <Button\r\n                node=\"button\"\r\n                waves=\"light\"\r\n                className=\"report-panel__button modal-trigger\"\r\n                onClick={handlePreparedReportsButton}\r\n                columns={[\r\n                  'name',\r\n                  'locality',\r\n                  'address',\r\n                  'phone',\r\n                  'foundingYear',\r\n                  'pharmacy'\r\n                ]}\r\n                href=\"#report-modal\"\r\n                data-title=\"Отчет о медицинских пунктах с аптеками\"\r\n              >\r\n                Отчет о медицинских пунктах с аптеками\r\n              </Button>\r\n\r\n              <Button\r\n                node=\"button\"\r\n                waves=\"light\"\r\n                className=\"report-panel__button modal-trigger\"\r\n                onClick={handlePreparedReportsButton}\r\n                href=\"#report-modal\"\r\n                data-title=\"Отчёт о медицинских пунктах с просроченной реконструкцией\"\r\n              >\r\n                Отчёт о медицинских пунктах с просроченной реконструкцией\r\n              </Button>\r\n\r\n            </div>\r\n\r\n          </CollapsibleItem>\r\n\r\n          <CollapsibleItem\r\n            expanded\r\n            header=\"Конструктор отчетов\"\r\n            node=\"div\"\r\n            className=\"report-panel__collapsible-item\"\r\n          >\r\n\r\n            <ReportBuilder\r\n              setParams={setState}\r\n              area={props.area}\r\n              params={state}\r\n              handleReportButton={handleReportButton}\r\n              closeModal={props.closeModal}\r\n            />\r\n\r\n          </CollapsibleItem>\r\n\r\n        </Collapsible>\r\n\r\n      </div>\r\n\r\n      <ReportView\r\n        loading={loading}\r\n        data={data}\r\n      />\r\n\r\n    </div>\r\n  )\r\n}","import React, {useEffect, useState, useCallback} from 'react'\r\nimport 'materialize-css';\r\nimport {Button} from 'react-materialize';\r\nimport './Reports.scss'\r\nimport {ReportPanel} from \"./ReportPanel\";\r\nimport {useHttp} from \"../hooks/http.hook\";\r\n\r\nexport const Reports = (props) => {\r\n\r\n  const {loading, error, request, clearError} = useHttp()\r\n\r\n  const [state, setState] = useState({\r\n    area: []\r\n  })\r\n\r\n  const [reportState, setReportState] = useState({\r\n    show: false\r\n  })\r\n\r\n  const handleReportButton = (e) => {\r\n    setReportState({...reportState, 'show': !reportState.show})\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      console.log('Ошибка: ' + error)\r\n    }\r\n    clearError()\r\n  }, [clearError, error])\r\n\r\n  const fetchData = useCallback(async (body) => {\r\n    try {\r\n      console.log('body', body)\r\n\r\n      const fetched = await request('/api/reports/area', 'POST', body)\r\n\r\n      console.log(fetched)\r\n\r\n      setState({\r\n        ...state,\r\n        area: fetched\r\n      })\r\n\r\n    } catch (e) {}\r\n  }, [request])\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"reports\">\r\n\r\n      <div className=\"reports__controls\">\r\n\r\n        <Button\r\n          node=\"button\"\r\n          style={{\r\n            marginRight: '5px'\r\n          }}\r\n          waves=\"light\"\r\n          onClick={handleReportButton}\r\n        >\r\n          Отчеты\r\n        </Button>\r\n      </div>\r\n\r\n      { reportState.show ?\r\n        <ReportPanel\r\n          area={state.area}\r\n          closeModal={handleReportButton}\r\n        />\r\n        : null\r\n      }\r\n    </div>\r\n  )\r\n}","import React, {useCallback, useEffect, useState} from 'react'\r\nimport {Sidebar} from \"../components/Sidebar\"\r\nimport {Maps} from \"../components/Maps\"\r\nimport {useHttp} from \"../hooks/http.hook\"\r\nimport {MapContext} from \"../context/MapContext\"\r\nimport {Reports} from \"../components/Reports\"\r\n\r\n\r\n/*\r\n*   ToDo:\r\n*    - Отчеты\r\n*    - Поиск по фильтрам\r\n*    - Пофиксить пропадание при увелечении\r\n*    - scrollbar\r\n*\r\n*   https://geoportal.egisz.rosminzdrav.ru/\r\n*\r\n*  */\r\n\r\nexport const MapPage = () => {\r\n\r\n  const {loading, error, request, clearError} = useHttp()\r\n  const [state, setState] = useState({\r\n    data: {\r\n      default: [],\r\n      modified: []\r\n    }\r\n  })\r\n  const [singleView, setSingleView] = useState({\r\n    flag: false,\r\n    id: null\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      console.log('Ошибка: ' + error)\r\n    }\r\n    clearError()\r\n  }, [clearError, error])\r\n\r\n  const fetchData = useCallback(async () => {\r\n    try {\r\n      const fetched = await request('/api/map', 'POST')\r\n\r\n      console.log('fetched', fetched)\r\n\r\n      setState({\r\n        ...state,\r\n        'data': {\r\n          default: fetched.data,\r\n          modified: fetched.data\r\n        }\r\n      })\r\n\r\n    } catch (e) {}\r\n  }, [request])\r\n\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [fetchData])\r\n\r\n  const updateData = (value, force = false) => {\r\n    setState({...state,\r\n      'data': {\r\n        default: force ? value : state.data.default,\r\n        modified: value\r\n      }})\r\n  }\r\n\r\n  const [mapState, setMapState] = useState({\r\n    center: [52.287054, 104.281047],\r\n    zoom: 9,\r\n    behaviors: [\"default\", \"scrollZoom\"],\r\n    controls: [],\r\n  });\r\n\r\n  return (\r\n    <div className=\"container--map\">\r\n      <MapContext.Provider value={{\r\n        mapState, setMapState\r\n      }}>\r\n\r\n        <Sidebar\r\n          loading={loading}\r\n          data={state.data}\r\n          updateData={updateData}\r\n          singleView={singleView}\r\n          setSingleView={setSingleView}\r\n        />\r\n\r\n        <Maps\r\n          loading={loading}\r\n          data={state.data}\r\n          updateData={updateData}\r\n          setSingleView={setSingleView}\r\n        />\r\n\r\n        <Reports />\r\n\r\n      </MapContext.Provider>\r\n    </div>\r\n  )\r\n}","import {Button, TextInput} from \"react-materialize\"\r\nimport magnifer from \"../img/magnifier.svg\"\r\nimport {ReactComponent as Filter} from \"../img/filter.svg\"\r\nimport {SearchFilter} from \"./SearchFilter\"\r\nimport React from \"react\"\r\nimport './PageHeader.scss'\r\n\r\n\r\nexport const PageHeader = (props) => {\r\n\r\n  return (\r\n    <header className={'page-header ' + props.className}>\r\n\r\n      <h1 className=\"page-header__title\">\r\n        Медицинские пункты\r\n      </h1>\r\n\r\n      <h4 className=\"page-header__subtitle\">\r\n        Подробная информация о мед. пунктанх, инфографика и формирование отчетов\r\n      </h4>\r\n\r\n      <div className=\"page-header__controls\">\r\n\r\n        <Button\r\n          node=\"button\"\r\n          waves=\"light\"\r\n          className=\"page-header__control\"\r\n        >\r\n          Изменение населения\r\n        </Button>\r\n\r\n        <Button\r\n          node=\"button\"\r\n          waves=\"light\"\r\n          className=\"page-header__control\"\r\n        >\r\n          Реконструкции\r\n        </Button>\r\n\r\n        <Button\r\n          node=\"button\"\r\n          waves=\"light\"\r\n          className=\"page-header__control\"\r\n        >\r\n          Укомплектованность\r\n        </Button>\r\n\r\n        <Button\r\n          node=\"button\"\r\n          waves=\"light\"\r\n          className=\"page-header__control\"\r\n        >\r\n          Отчеты\r\n        </Button>\r\n\r\n      </div>\r\n\r\n      <div className=\"search\">\r\n\r\n        <div className=\"page-header__search\">\r\n\r\n          <TextInput\r\n            id=\"view-search__input\"\r\n            inputClassName=\"view__text-input\"\r\n            label=\"Поиск мед. пунктов\"\r\n            onChange={null}\r\n          />\r\n\r\n        </div>\r\n\r\n        <div className=\"search__controls\">\r\n\r\n          <button\r\n            className=\"search__button search__button--search\"\r\n          >\r\n            <img src={magnifer} alt=\"Поиск\"/>\r\n          </button>\r\n\r\n          <button\r\n            className=\"search__button search__button--filter\"\r\n            onClick={null}\r\n          >\r\n            <Filter />\r\n          </button>\r\n        </div>\r\n\r\n        <SearchFilter\r\n          className=\"page-header__search-filter\"\r\n          updateData={null}\r\n          visible={null}\r\n        />\r\n\r\n      </div>\r\n\r\n    </header>\r\n  )\r\n\r\n}","import {Button, Table} from \"react-materialize\"\r\nimport \"./TableView.scss\"\r\nimport React, {useEffect} from \"react\";\r\n\r\nexport const TableView = (props) => {\r\n\r\n  const getContextMenu = (x, y, id) => {\r\n    const el = document.querySelector('.context-menu')\r\n\r\n    if (!el)\r\n      return\r\n\r\n    el.style = `top: ${y}px; left: ${x}px; display: flex;`\r\n\r\n    document.addEventListener('click', (e) => {\r\n      const { target } = e\r\n\r\n      if (target !== el && !el.contains(target)) {\r\n        el.style.display = 'none'\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  const handleTableContextMenu = (e, id) => {\r\n    e.preventDefault()\r\n    const { target, clientX, clientY } = e\r\n    getContextMenu(clientX, clientY, target)\r\n  }\r\n\r\n  return (\r\n    <Table className=\"table-view\">\r\n\r\n      <thead>\r\n      <tr>\r\n        { props.headers && props.headers.length > 0 && props.headers.map((obj, i) => {\r\n          if (obj !== 'id') {\r\n            return (\r\n              <th\r\n                key={i}\r\n                className=\"table-view__header\"\r\n              >\r\n                {obj}\r\n              </th>\r\n            )\r\n          }\r\n        })}\r\n\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      {props.data && props.headers && props.headers.length > 0 && props.data.map((obj, i) => (\r\n        <tr\r\n          key={i}\r\n          className='table-view__row'\r\n        >\r\n          {Object.keys(obj).map((el, j) => (\r\n            <td\r\n              key={j}\r\n              data-label={props.headers[j]}\r\n              onContextMenu={(e) => handleTableContextMenu(e, obj.id_Med_punkt)}\r\n            >\r\n              {\r\n                obj[el]\r\n              }\r\n            </td>\r\n          ))}\r\n\r\n        </tr>\r\n      ))}\r\n      </tbody>\r\n    </Table>\r\n  )\r\n}","import {Button, Checkbox, Modal, Select, TextInput} from \"react-materialize\"\r\nimport React from 'react'\r\nimport './AddPanel.scss'\r\n\r\nexport const AddPanel = (props) => {\r\n\r\n  const handleInputFile = (e) => {\r\n    const { target } = e\r\n    const { files } = target\r\n\r\n    try {\r\n      let file = files[0]\r\n\r\n      const url = URL.createObjectURL(file)\r\n      console.log(url)\r\n\r\n      const img = target.closest('.add-panel__block').querySelector('img')\r\n\r\n      img.src = url\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      actions={[\r\n        <Button\r\n          node=\"button\"\r\n          waves=\"light\"\r\n        >\r\n          Добавить\r\n        </Button>,\r\n        <Button\r\n          modal=\"close\"\r\n          node=\"button\"\r\n          waves=\"light\"\r\n          className=\"red darken-3\"\r\n        >\r\n          Закрыть\r\n        </Button>\r\n      ]}\r\n      bottomSheet={false}\r\n      fixedFooter={false}\r\n      className=\"add-panel\"\r\n      id=\"context-menu-add-modal\"\r\n      open={false}\r\n      options={{\r\n        dismissible: true,\r\n        endingTop: '10%',\r\n        inDuration: 250,\r\n        onCloseEnd: null,\r\n        onCloseStart: null,\r\n        onOpenEnd: null,\r\n        onOpenStart: null,\r\n        opacity: 0.5,\r\n        outDuration: 250,\r\n        preventScrolling: true,\r\n        startingTop: '4%'\r\n      }}\r\n    >\r\n\r\n      <div className=\"add-panel__wrapper\">\r\n\r\n        <div className=\"add-panel__header\">\r\n\r\n          <h3 className=\"add-panel__title\">\r\n            Добавление мед. пункта\r\n          </h3>\r\n\r\n        </div>\r\n\r\n        <div className=\"add-panel__body\">\r\n\r\n\r\n          <div className=\"add-panel__row\">\r\n\r\n            <div className=\"add-panel__column\">\r\n              <div className=\"add-panel__block\">\r\n\r\n                <Select\r\n                  id=\"report-area\"\r\n                  className=\"add-panel__select\"\r\n                  multiple={false}\r\n                  onChange\r\n                  options={{\r\n                    classes: '',\r\n                    dropdownOptions: {\r\n                      alignment: 'left',\r\n                      autoTrigger: true,\r\n                      closeOnClick: true,\r\n                      constrainWidth: true,\r\n                      coverTrigger: true,\r\n                      hover: false,\r\n                      inDuration: 150,\r\n                      onCloseEnd: null,\r\n                      onCloseStart: null,\r\n                      onOpenEnd: null,\r\n                      onOpenStart: null,\r\n                      outDuration: 250\r\n                    }\r\n                  }}\r\n                  value=\"\"\r\n                >\r\n                  <option\r\n                    disabled\r\n                    value=\"\"\r\n                  >\r\n                    Выберите область\r\n                  </option>\r\n                  {\r\n                    <option\r\n                      key={1}\r\n                      value={'123'}\r\n                    >\r\n                      {'123'}\r\n                    </option>\r\n                  }\r\n                </Select>\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block\">\r\n\r\n                <Select\r\n                  id=\"report-district\"\r\n                  className=\"add-panel__select\"\r\n                  multiple={false}\r\n                  onChange\r\n                  options={{\r\n                    classes: '',\r\n                    dropdownOptions: {\r\n                      alignment: 'left',\r\n                      autoTrigger: true,\r\n                      closeOnClick: true,\r\n                      constrainWidth: true,\r\n                      coverTrigger: true,\r\n                      hover: false,\r\n                      inDuration: 150,\r\n                      onCloseEnd: null,\r\n                      onCloseStart: null,\r\n                      onOpenEnd: null,\r\n                      onOpenStart: null,\r\n                      outDuration: 250\r\n                    }\r\n                  }}\r\n                  value=\"\"\r\n                >\r\n                  <option\r\n                    disabled\r\n                    value=\"\"\r\n                  >\r\n                    Выберите район\r\n                  </option>\r\n                  {\r\n                    <option\r\n                      key={1}\r\n                      value={'123'}\r\n                    >\r\n                      {'123'}\r\n                    </option>\r\n                  }\r\n                </Select>\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block\">\r\n\r\n                <Select\r\n                  id=\"report-medical-institution\"\r\n                  className=\"add-panel__select\"\r\n                  multiple={false}\r\n                  onChange\r\n                  options={{\r\n                    classes: '',\r\n                    dropdownOptions: {\r\n                      alignment: 'left',\r\n                      autoTrigger: true,\r\n                      closeOnClick: true,\r\n                      constrainWidth: true,\r\n                      coverTrigger: true,\r\n                      hover: false,\r\n                      inDuration: 150,\r\n                      onCloseEnd: null,\r\n                      onCloseStart: null,\r\n                      onOpenEnd: null,\r\n                      onOpenStart: null,\r\n                      outDuration: 250\r\n                    }\r\n                  }}\r\n                  value=\"\"\r\n                >\r\n                  <option\r\n                    disabled\r\n                    value=\"\"\r\n                  >\r\n                    Выберите населенный пункт\r\n                  </option>\r\n                  {\r\n                    <option\r\n                      key={1}\r\n                      value={'123'}\r\n                    >\r\n                      {'123'}\r\n                    </option>\r\n                  }\r\n                </Select>\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block\">\r\n\r\n                <Select\r\n                  id=\"report-medical-institution\"\r\n                  className=\"add-panel__select\"\r\n                  multiple={false}\r\n                  onChange\r\n                  options={{\r\n                    classes: '',\r\n                    dropdownOptions: {\r\n                      alignment: 'left',\r\n                      autoTrigger: true,\r\n                      closeOnClick: true,\r\n                      constrainWidth: true,\r\n                      coverTrigger: true,\r\n                      hover: false,\r\n                      inDuration: 150,\r\n                      onCloseEnd: null,\r\n                      onCloseStart: null,\r\n                      onOpenEnd: null,\r\n                      onOpenStart: null,\r\n                      outDuration: 250\r\n                    }\r\n                  }}\r\n                  value=\"\"\r\n                >\r\n                  <option\r\n                    disabled\r\n                    value=\"\"\r\n                  >\r\n                    Выберите мед. учереждение\r\n                  </option>\r\n                  {\r\n                    <option\r\n                      key={1}\r\n                      value={'123'}\r\n                    >\r\n                      {'123'}\r\n                    </option>\r\n                  }\r\n                </Select>\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block\">\r\n\r\n                <TextInput\r\n                  className=\"add-panel__input\"\r\n                  id=\"add-panel-input-name\"\r\n                  label=\"Название мед. пункта\"\r\n                />\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block\">\r\n\r\n                <Select\r\n                  id=\"report-type\"\r\n                  className=\"add-panel__select\"\r\n                  multiple={false}\r\n                  onChange\r\n                  options={{\r\n                    classes: '',\r\n                    dropdownOptions: {\r\n                      alignment: 'left',\r\n                      autoTrigger: true,\r\n                      closeOnClick: true,\r\n                      constrainWidth: true,\r\n                      coverTrigger: true,\r\n                      hover: false,\r\n                      inDuration: 150,\r\n                      onCloseEnd: null,\r\n                      onCloseStart: null,\r\n                      onOpenEnd: null,\r\n                      onOpenStart: null,\r\n                      outDuration: 250\r\n                    }\r\n                  }}\r\n                  value=\"\"\r\n                >\r\n                  <option\r\n                    disabled\r\n                    value=\"\"\r\n                  >\r\n                    Выберите тип мед. пункта\r\n                  </option>\r\n                  {\r\n                    <option\r\n                      key={1}\r\n                      value={'123'}\r\n                    >\r\n                      {'123'}\r\n                    </option>\r\n                  }\r\n                </Select>\r\n\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"add-panel__column\">\r\n              <div className=\"add-panel__block\">\r\n\r\n                <TextInput\r\n                  className=\"add-panel__input\"\r\n                  id=\"add-panel-input-street\"\r\n                  label=\"Улица\"\r\n                />\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block\">\r\n\r\n                <TextInput\r\n                  className=\"add-panel__input\"\r\n                  id=\"add-panel-input-house-number\"\r\n                  label=\"Номер дома\"\r\n                />\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block\">\r\n\r\n                <TextInput\r\n                  className=\"add-panel__input\"\r\n                  id=\"add-panel-input-latitude\"\r\n                  label=\"Широта\"\r\n                />\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block\">\r\n\r\n                <TextInput\r\n                  className=\"add-panel__input\"\r\n                  id=\"add-panel-input-longitude\"\r\n                  label=\"Долгота\"\r\n                />\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block\">\r\n\r\n                <TextInput\r\n                  className=\"add-panel__input\"\r\n                  id=\"add-panel-input-phone\"\r\n                  label=\"Номер телефона\"\r\n                />\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block\">\r\n\r\n                <TextInput\r\n                  className=\"add-panel__input\"\r\n                  id=\"add-panel-input-foundation-year\"\r\n                  label=\"Год основания\"\r\n                />\r\n\r\n              </div>\r\n            </div>\r\n\r\n\r\n            <div className=\"add-panel__column\">\r\n              <div className=\"add-panel__block add-panel__block--height\">\r\n\r\n                <div className=\"input-field col\">\r\n                  <TextInput\r\n                    id=\"add-panel-input-photo\"\r\n                    label=\"Фото\"\r\n                    type=\"file\"\r\n                    onChange={handleInputFile}\r\n                  />\r\n                </div>\r\n\r\n                <img src=\"\" alt=\"Photo\"/>\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block add-panel__block--height\">\r\n\r\n                <div className=\"input-field col\">\r\n                  <Checkbox\r\n                    filledIn\r\n                    id=\"add-panel-first-aid\"\r\n                    label=\"Первая помощь\"\r\n                    name=\"first-aid\"\r\n                  />\r\n                </div>\r\n\r\n              </div>\r\n\r\n              <div className=\"add-panel__block add-panel__block--height\">\r\n\r\n                <div className=\"input-field col\">\r\n                  <Checkbox\r\n                    filledIn\r\n                    id=\"add-panel-emergency-assistance\"\r\n                    label=\"Экстренная помощь\"\r\n                    name=\"emergency-assistance\"\r\n                  />\r\n                </div>\r\n\r\n              </div>\r\n\r\n\r\n              <div className=\"add-panel__block add-panel__block--height\">\r\n\r\n                <div className=\"input-field col\">\r\n                  <Checkbox\r\n                    filledIn\r\n                    id=\"add-panel-pharmacy\"\r\n                    label=\"Аптека\"\r\n                    name=\"pharmacy\"\r\n                  />\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </Modal>\r\n  )\r\n}","import {Button, Modal} from \"react-materialize\"\r\nimport React from \"react\"\r\nimport \"./ContextMenu.scss\"\r\nimport {AddPanel} from \"./AddPanel\"\r\n\r\nexport const ContextMenu = (props) => {\r\n\r\n  const handleAddClick = (e) => {\r\n\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"context-menu\"\r\n      // onContextMenu={(e) => {e.preventDefault()}}\r\n    >\r\n\r\n      <Button\r\n        node=\"button\"\r\n        waves=\"light\"\r\n        className=\"context-menu__button modal-trigger\"\r\n        onClick={handleAddClick}\r\n        href=\"#context-menu-add-modal\"\r\n      >\r\n        Добавить\r\n      </Button>\r\n\r\n      <Button\r\n        node=\"button\"\r\n        waves=\"light\"\r\n        className=\"context-menu__button\"\r\n      >\r\n        Изменить\r\n      </Button>\r\n\r\n      <Button\r\n        node=\"button\"\r\n        waves=\"light\"\r\n        className=\"context-menu__button red\"\r\n      >\r\n        Удалить\r\n      </Button>\r\n\r\n      <AddPanel />\r\n\r\n    </div>\r\n  )\r\n}","import React, {useCallback, useEffect, useState} from 'react'\nimport {useHttp} from \"../hooks/http.hook\"\nimport './TablePage.scss'\nimport {PageHeader} from \"../components/PageHeader\"\nimport {TableView} from \"../components/TableView\"\nimport {ContextMenu} from \"../components/ContextMenu\"\nimport {ProgressBar} from \"react-materialize\";\n\nexport const ViewPage = () => {\n\n  const {loading, error, request, clearError} = useHttp()\n\n  const [state, setState] = useState({\n    data: [],\n    headers: []\n  })\n\n  useEffect(() => {\n    if (error) {\n      console.log('Ошибка: ' + error)\n    }\n    clearError()\n  }, [clearError, error])\n\n  const fetchData = useCallback(async () => {\n    try {\n      const fetched = await request('/api/view', 'POST')\n\n      setState({\n        ...state,\n        data: fetched.data,\n        headers: fetched.headers\n      })\n    } catch (e) {}\n  }, [request])\n\n\n  useEffect(() => {\n    fetchData()\n  }, [fetchData])\n\n\n  return (\n    <div className=\"view\">\n\n      <div className=\"container view__container\">\n\n         <PageHeader\n            className=\"view__header\"\n         />\n\n      </div>\n\n      <div className=\"container table-container\">\n\n        {\n          loading ? <ProgressBar/> :\n            state.data.length === 0 ? 'Элементов не найдено, пожалуйста, измените критерии поиска' :\n              <TableView\n                data={state.data}\n                headers={state.headers}\n              />\n\n        }\n        <ContextMenu />\n\n      </div>\n\n    </div>\n  )\n}","import {useState, useCallback, useEffect} from 'react'\r\n\r\nconst storageName = 'userData'\r\n\r\nexport const useAuth = () => {\r\n  const [token, setToken] = useState(null)\r\n  const [userId, setUserId] = useState(null)\r\n\r\n  const login = useCallback((jwtToken, id) => {\r\n    setToken(jwtToken)\r\n    setUserId(id)\r\n\r\n    localStorage.setItem(storageName, JSON.stringify({\r\n      userId: id, token: jwtToken\r\n    }))\r\n  }, [])\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null)\r\n    setUserId(null)\r\n\r\n    localStorage.removeItem(storageName)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(localStorage.getItem(storageName))\r\n\r\n    if (data && data.token) {\r\n      login(data.token, data.userId)\r\n    }\r\n  }, [login])\r\n\r\n  return {login, logout, token, userId}\r\n\r\n}","import React from 'react'\r\nimport {BrowserRouter as Router} from \"react-router-dom\"\r\nimport {useRoutes} from \"./routes\"\r\nimport {useAuth} from \"./hooks/auth.hook\"\r\nimport {AuthContext} from \"./context/AuthContext\"\r\nimport './scss/main.scss'\r\n\r\n\r\nfunction App() {\r\n\r\n  const {token, login, logout, userId} = useAuth()\r\n  const isAuthenticated = !!token\r\n  const routes = useRoutes(isAuthenticated);\r\n\r\n  return (\r\n      <AuthContext.Provider value={{\r\n        token, login, logout, userId, isAuthenticated\r\n      }}>\r\n        <Router>\r\n          {routes}\r\n        </Router>\r\n      </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport {AdminPage} from './pages/AdminPage'\r\nimport {MapPage} from \"./pages/MapPage\";\r\nimport {AuthPage} from \"./pages/AuthPage\";\r\nimport {ViewPage} from \"./pages/ViewPage\";\r\n\r\nexport const useRoutes = isAuthenticated => {\r\n    if (isAuthenticated || true) {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/admin\">\r\n                    <AdminPage />\r\n                </Route>\r\n                <Route path=\"/detail/:id\">\r\n                    <MapPage />\r\n                </Route>\r\n                <Route path=\"/view\">\r\n                  <ViewPage />\r\n                </Route>\r\n                <Route path=\"/\">\r\n                  <MapPage />\r\n                </Route>\r\n                <Redirect to=\"/\"/>\r\n            </Switch>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Switch>\r\n          <Route path=\"/admin\">\r\n            <AuthPage />\r\n          </Route>\r\n          <Route path=\"/detail/:id\">\r\n            <MapPage />\r\n          </Route>\r\n          <Route path=\"/view\">\r\n            <ViewPage />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <MapPage />\r\n          </Route>\r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n    )\r\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport 'materialize-css/dist/css/materialize.min.css'\r\nimport App from './App'\r\n\r\ndocument.documentElement.lang = 'ru'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}